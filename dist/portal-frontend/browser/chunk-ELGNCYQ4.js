import{e as Ie,f as U,g as j}from"./chunk-OHCSBWXS.js";import{a as W}from"./chunk-X6GEXHSG.js";import{a as fe}from"./chunk-HXGQMCX4.js";import{a as h,b as ge,h as xe,k as be,l as ye,m as Oe,n as R,o as B,q as S,t as ve,u as Ce}from"./chunk-VBSZGXZN.js";import{$ as ee,Ac as he,Cb as A,Db as w,Dc as me,Eb as v,Fb as C,Gb as H,Hb as F,Ib as N,Jb as M,Lb as re,Ma as ie,Oa as ne,Pa as le,Pb as ce,Qa as k,Qb as I,R as Y,Rb as D,Sb as $,T as Z,Ta as c,Ua as V,Wa as oe,Za as T,aa as te,ac as q,db as p,ea as m,eb as _,fa as f,fb as a,gb as se,ib as G,jb as P,ob as d,pb as u,qb as K,rb as b,sb as y,tb as x,ub as E,wb as O,wc as pe,xb as r,xc as de,yb as ae,yc as ue,zb as Q,zc as _e}from"./chunk-HOTPW52P.js";var Fe=["headerchkbox"],Le=["filter"],we=["lastHiddenFocusableElement"],ke=["firstHiddenFocusableElement"],Ve=["scroller"],Ee=["list"];function Me(n,s){n&1&&x(0)}var z=(n,s)=>({$implicit:n,options:s});function De(n,s){if(n&1&&(d(0,"div",12),Q(1),p(2,Me,1,0,"ng-container",13),u()),n&2){let e=r();c(2),a("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",D(2,z,e.modelValue(),e.visibleOptions()))}}function Ke(n,s){n&1&&K(0,"CheckIcon",24),n&2&&(a("styleClass","p-checkbox-icon"),_("aria-hidden",!0))}function Ae(n,s){}function He(n,s){n&1&&p(0,Ae,0,0,"ng-template")}function Re(n,s){if(n&1&&(d(0,"span",25),p(1,He,1,0,null,26),u()),n&2){let e=r(4);_("aria-hidden",!0),c(),a("ngTemplateOutlet",e.checkIconTemplate)}}function ze(n,s){if(n&1&&(b(0),p(1,Ke,1,2,"CheckIcon",22)(2,Re,2,2,"span",23),y()),n&2){let e=r(3);c(),a("ngIf",!e.checkIconTemplate),c(),a("ngIf",e.checkIconTemplate)}}var Se=n=>({"p-checkbox-disabled":n}),Ge=(n,s,e)=>({"p-highlight":n,"p-focus":s,"p-disabled":e});function Pe(n,s){if(n&1){let e=E();d(0,"div",17),O("click",function(t){m(e);let l=r(2);return f(l.onToggleAll(t))})("keydown",function(t){m(e);let l=r(2);return f(l.onHeaderCheckboxKeyDown(t))}),d(1,"div",18)(2,"input",19,20),O("focus",function(t){m(e);let l=r(2);return f(l.onHeaderCheckboxFocus(t))})("blur",function(t){m(e);let l=r(2);return f(l.onHeaderCheckboxBlur(t))}),u()(),d(4,"div",21),p(5,ze,3,2,"ng-container",6),u()()}if(n&2){let e=r(2);a("ngClass",I(8,Se,e.disabled||e.toggleAllDisabled)),c(),_("data-p-hidden-accessible",!0),c(),a("disabled",e.disabled||e.toggleAllDisabled),_("checked",e.allSelected())("aria-label",e.toggleAllAriaLabel),c(2),a("ngClass",$(10,Ge,e.allSelected(),e.headerCheckboxFocus,e.disabled||e.toggleAllDisabled)),_("aria-checked",e.allSelected()),c(),a("ngIf",e.allSelected())}}function Qe(n,s){n&1&&x(0)}var Te=n=>({options:n});function Ne(n,s){if(n&1&&(b(0),p(1,Qe,1,0,"ng-container",13),y()),n&2){let e=r(2);c(),a("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",I(2,Te,e.filterOptions))}}function $e(n,s){n&1&&K(0,"SearchIcon",24),n&2&&(a("styleClass","p-listbox-filter-icon"),_("aria-hidden",!0))}function qe(n,s){}function Be(n,s){n&1&&p(0,qe,0,0,"ng-template")}function Ue(n,s){if(n&1&&(d(0,"span",33),p(1,Be,1,0,null,26),u()),n&2){let e=r(4);_("aria-hidden",!0),c(),a("ngTemplateOutlet",e.filterIconTemplate)}}function je(n,s){if(n&1){let e=E();d(0,"div",29)(1,"input",30,31),O("input",function(t){m(e);let l=r(3);return f(l.onFilterChange(t))})("keydown",function(t){m(e);let l=r(3);return f(l.onFilterKeyDown(t))})("blur",function(t){m(e);let l=r(3);return f(l.onFilterBlur(t))}),u(),p(3,$e,1,2,"SearchIcon",22)(4,Ue,2,2,"span",32),u()}if(n&2){let e=r(3);c(),a("value",e._filterValue()||"")("disabled",e.disabled)("tabindex",!e.disabled&&!e.focused?e.tabindex:-1),_("aria-owns",e.id+"_list")("aria-activedescendant",e.focusedOptionId)("placeholder",e.filterPlaceHolder)("aria-label",e.ariaFilterLabel),c(2),a("ngIf",!e.filterIconTemplate),c(),a("ngIf",e.filterIconTemplate)}}function We(n,s){if(n&1&&(p(0,je,5,9,"div",27),d(1,"span",28),F(2),u()),n&2){let e=r(2);a("ngIf",e.filter),c(),_("data-p-hidden-accessible",!0),c(),M(" ",e.filterResultMessageText," ")}}function Xe(n,s){if(n&1&&(d(0,"div",12),p(1,Pe,6,14,"div",14)(2,Ne,2,4,"ng-container",15)(3,We,3,3,"ng-template",null,16,q),u()),n&2){let e=H(4),i=r();c(),a("ngIf",i.checkbox&&i.multiple&&i.showToggleAll),c(),a("ngIf",i.filterTemplate)("ngIfElse",e)}}function Je(n,s){n&1&&x(0)}function Ye(n,s){if(n&1&&p(0,Je,1,0,"ng-container",13),n&2){let e=s.$implicit,i=s.options;r(2);let t=H(9);a("ngTemplateOutlet",t)("ngTemplateOutletContext",D(2,z,e,i))}}function Ze(n,s){n&1&&x(0)}function et(n,s){if(n&1&&p(0,Ze,1,0,"ng-container",13),n&2){let e=s.options,i=r(3);a("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",I(2,Te,e))}}function tt(n,s){n&1&&(b(0),p(1,et,1,4,"ng-template",37),y())}var X=n=>({height:n});function it(n,s){if(n&1){let e=E();d(0,"p-scroller",34,35),O("onLazyLoad",function(t){m(e);let l=r();return f(l.onLazyLoad.emit(t))}),p(2,Ye,1,5,"ng-template",36)(3,tt,2,0,"ng-container",6),u()}if(n&2){let e=r();G(I(9,X,e.scrollHeight)),a("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize)("autoSize",!0)("tabindex",-1)("lazy",e.lazy)("options",e.virtualScrollOptions),c(3),a("ngIf",e.loaderTemplate)}}function nt(n,s){n&1&&x(0)}var lt=()=>({});function ot(n,s){if(n&1&&(b(0),p(1,nt,1,0,"ng-container",13),y()),n&2){let e=r(),i=H(9);c(),a("ngTemplateOutlet",i)("ngTemplateOutletContext",D(3,z,e.visibleOptions(),ce(2,lt)))}}function st(n,s){if(n&1&&(d(0,"span"),F(1),u()),n&2){let e=r(2).$implicit,i=r(2);c(),N(i.getOptionGroupLabel(e.optionGroup))}}function at(n,s){n&1&&x(0)}var rt=n=>({$implicit:n});function ct(n,s){if(n&1&&(b(0),d(1,"li",42),p(2,st,2,1,"span",6)(3,at,1,0,"ng-container",13),u(),y()),n&2){let e=r(),i=e.index,t=e.$implicit,l=r().options,o=r();c(),a("ngStyle",I(5,X,l.itemSize+"px")),_("id",o.id+"_"+o.getOptionIndex(i,l)),c(),a("ngIf",!o.groupTemplate),c(),a("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",I(7,rt,t.optionGroup))}}function pt(n,s){n&1&&K(0,"CheckIcon",24),n&2&&(a("styleClass","p-checkbox-icon"),_("aria-hidden",!0))}function dt(n,s){}function ut(n,s){n&1&&p(0,dt,0,0,"ng-template")}function _t(n,s){if(n&1&&(d(0,"span",25),p(1,ut,1,0,null,26),u()),n&2){let e=r(6);_("aria-hidden",!0),c(),a("ngTemplateOutlet",e.checkIconTemplate)}}function ht(n,s){if(n&1&&(b(0),p(1,pt,1,2,"CheckIcon",22)(2,_t,2,2,"span",23),y()),n&2){let e=r(5);c(),a("ngIf",!e.checkIconTemplate),c(),a("ngIf",e.checkIconTemplate)}}var mt=n=>({"p-highlight":n});function ft(n,s){if(n&1&&(d(0,"div",45)(1,"div",46),p(2,ht,3,2,"ng-container",6),u()()),n&2){let e=r(2).$implicit,i=r(2);a("ngClass",I(3,Se,i.disabled||i.isOptionDisabled(e))),c(),a("ngClass",I(5,mt,i.isSelected(e))),c(),a("ngIf",i.isSelected(e))}}function gt(n,s){if(n&1&&(d(0,"span"),F(1),u()),n&2){let e=r(2).$implicit,i=r(2);c(),N(i.getOptionLabel(e))}}function xt(n,s){n&1&&x(0)}var bt=(n,s,e)=>({"p-listbox-item":!0,"p-highlight":n,"p-focus":s,"p-disabled":e}),yt=(n,s)=>({$implicit:n,index:s});function Ot(n,s){if(n&1){let e=E();b(0),d(1,"li",43),O("click",function(t){m(e);let l=r(),o=l.$implicit,g=l.index,L=r().options,J=r();return f(J.onOptionSelect(t,o,J.getOptionIndex(g,L)))})("dblclick",function(t){m(e);let l=r().$implicit,o=r(2);return f(o.onOptionDoubleClick(t,l))})("mousedown",function(t){m(e);let l=r().index,o=r().options,g=r();return f(g.onOptionMouseDown(t,g.getOptionIndex(l,o)))})("mouseenter",function(t){m(e);let l=r().index,o=r().options,g=r();return f(g.onOptionMouseEnter(t,g.getOptionIndex(l,o)))})("touchend",function(){m(e);let t=r(3);return f(t.onOptionTouchEnd())}),p(2,ft,3,7,"div",44)(3,gt,2,1,"span",6)(4,xt,1,0,"ng-container",13),u(),y()}if(n&2){let e=r(),i=e.$implicit,t=e.index,l=r().options,o=r();c(),a("ngStyle",I(12,X,l.itemSize+"px"))("ngClass",$(14,bt,o.isSelected(i),o.focusedOptionIndex()===o.getOptionIndex(t,l),o.isOptionDisabled(i)))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(t,l))),_("id",o.id+"_"+o.getOptionIndex(t,l))("aria-label",o.getOptionLabel(i))("aria-selected",o.isSelected(i))("aria-disabled",o.isOptionDisabled(i))("aria-setsize",o.ariaSetSize),c(),a("ngIf",o.checkbox&&o.multiple),c(),a("ngIf",!o.itemTemplate),c(),a("ngTemplateOutlet",o.itemTemplate)("ngTemplateOutletContext",D(18,yt,i,o.getOptionIndex(t,l)))}}function vt(n,s){if(n&1&&p(0,ct,4,9,"ng-container",6)(1,Ot,5,21,"ng-container",6),n&2){let e=s.$implicit,i=r(2);a("ngIf",i.isOptionGroup(e)),c(),a("ngIf",!i.isOptionGroup(e))}}function Ct(n,s){if(n&1&&(b(0),F(1),y()),n&2){let e=r(3);c(),M(" ",e.emptyFilterMessageText," ")}}function It(n,s){n&1&&x(0,null,48)}function St(n,s){if(n&1&&(d(0,"li",47),p(1,Ct,2,1,"ng-container",15)(2,It,2,0,"ng-container",26),u()),n&2){let e=r(2);c(),a("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),c(),a("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function Tt(n,s){if(n&1&&(b(0),F(1),y()),n&2){let e=r(3);c(),M(" ",e.emptyMessage," ")}}function Ft(n,s){n&1&&x(0,null,49)}function Lt(n,s){if(n&1&&(d(0,"li",47),p(1,Tt,2,1,"ng-container",15)(2,Ft,2,0,"ng-container",26),u()),n&2){let e=r(2);c(),a("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),c(),a("ngTemplateOutlet",e.emptyTemplate)}}function wt(n,s){if(n&1){let e=E();d(0,"ul",38,39),O("focus",function(t){m(e);let l=r();return f(l.onListFocus(t))})("blur",function(t){m(e);let l=r();return f(l.onListBlur(t))})("keydown",function(t){m(e);let l=r();return f(l.onListKeyDown(t))}),p(2,vt,2,2,"ng-template",40)(3,St,3,3,"li",41)(4,Lt,3,3,"li",41),u()}if(n&2){let e=s.$implicit,i=s.options,t=r();G(i.contentStyle),a("tabindex",-1)("ngClass",i.contentStyleClass),_("aria-multiselectable",!0)("aria-activedescendant",t.focused?t.focusedOptionId:void 0)("aria-label",t.ariaLabel)("aria-multiselectable",t.multiple)("aria-disabled",t.disabled),c(2),a("ngForOf",e),c(),a("ngIf",t.hasFilter()&&t.isEmpty()),c(),a("ngIf",!t.hasFilter()&&t.isEmpty())}}function kt(n,s){n&1&&x(0)}function Vt(n,s){if(n&1&&(d(0,"div",50),Q(1,1),p(2,kt,1,0,"ng-container",13),u()),n&2){let e=r();c(2),a("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",D(2,z,e.modelValue(),e.visibleOptions()))}}function Et(n,s){if(n&1&&(d(0,"span",10),F(1),u()),n&2){let e=r();c(),M(" ",e.emptyMessage," ")}}var Mt=[[["p-header"]],[["p-footer"]]],Dt=["p-header","p-footer"],Kt={provide:fe,useExisting:Y(()=>At),multi:!0},At=(()=>{class n{el;cd;filterService;config;renderer;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!0;selectOnFocus;searchLocale;focusOnHover;filterMessage;filterFields;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;scrollHeight="200px";tabindex=0;multiple;style;styleClass;listStyle;listStyleClass;readonly;disabled;checkbox=!1;filter=!1;filterBy;filterMatchMode="contains";filterLocale;metaKeySelection=!1;dataKey;showToggleAll=!0;optionLabel;optionValue;optionGroupChildren="items";optionGroupLabel="label";optionDisabled;ariaFilterLabel;filterPlaceHolder;emptyFilterMessage;emptyMessage;group;get options(){return this._options()}set options(e){this._options.set(e)}get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get selectAll(){return this._selectAll}set selectAll(e){this._selectAll=e}onChange=new T;onClick=new T;onDblClick=new T;onFilter=new T;onFocus=new T;onBlur=new T;onSelectAllChange=new T;headerCheckboxViewChild;filterViewChild;lastHiddenFocusableElement;firstHiddenFocusableElement;scroller;listViewChild;headerFacet;footerFacet;templates;itemTemplate;groupTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;filterIconTemplate;checkIconTemplate;_filterValue=k(null);_filteredOptions;filterOptions;filtered;value;onModelChange=()=>{};onModelTouched=()=>{};optionTouched;focus;headerCheckboxFocus;translationSubscription;focused;get containerClass(){return{"p-listbox p-component":!0,"p-focus":this.focused,"p-disabled":this.disabled}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get filterResultMessageText(){return h.isNotEmpty(this.visibleOptions())?this.filterMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptyFilterMessageText}get filterMessageText(){return this.filterMessage||this.config.translation.searchMessage||""}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptyFilterMessageText(){return this.emptyFilterMessage||this.config.translation.emptySearchMessage||this.config.translation.emptyFilterMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get virtualScrollerDisabled(){return!this.virtualScroll}get searchFields(){return this.filterFields||[this.optionLabel]}get toggleAllAriaLabel(){return this.config.translation.aria?this.config.translation.aria[this.allSelected()?"selectAll":"unselectAll"]:void 0}searchValue;searchTimeout;_selectAll=null;_options=k(null);startRangeIndex=k(-1);focusedOptionIndex=k(-1);modelValue=k(null);visibleOptions=le(()=>{let e=this.group?this.flatOptions(this._options()):this._options()||[];return this._filterValue()?this.filterService.filter(e,this.searchFields,this._filterValue(),this.filterMatchMode,this.filterLocale):e});constructor(e,i,t,l,o){this.el=e,this.cd=i,this.filterService=t,this.config=l,this.renderer=o}ngOnInit(){this.id=this.id||ge(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()}),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterChange(e),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;case"checkicon":this.checkIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}writeValue(e){this.value=e,this.modelValue.set(this.value),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}flatOptions(e){return(e||[]).reduce((i,t,l)=>{i.push({optionGroup:t,group:!0,index:l});let o=this.getOptionGroupChildren(t);return o&&o.forEach(g=>i.push(g)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&!this.multiple){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()])}}updateModel(e,i){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.onChange.emit({originalEvent:i,value:this.value})}removeOption(e){return this.modelValue().filter(i=>!h.equals(i,this.getOptionValue(e),this.equalityKey()))}onOptionSelect(e,i,t=-1){this.disabled||this.isOptionDisabled(i)||(e&&this.onClick.emit({originalEvent:e,option:i,value:this.value}),this.multiple?this.onOptionSelectMultiple(e,i):this.onOptionSelectSingle(e,i),this.optionTouched=!1,t!==-1&&this.focusedOptionIndex.set(t))}onOptionSelectMultiple(e,i){let t=this.isSelected(i),l=null;if(this.optionTouched?!1:this.metaKeySelection){let g=e.metaKey||e.ctrlKey;t?l=g?this.removeOption(i):[this.getOptionValue(i)]:(l=g?this.modelValue()||[]:[],l=[...l,this.getOptionValue(i)])}else l=t?this.removeOption(i):[...this.modelValue()||[],this.getOptionValue(i)];this.updateModel(l,e)}onOptionSelectSingle(e,i){let t=this.isSelected(i),l=!1,o=null;if(this.optionTouched?!1:this.metaKeySelection){let L=e.metaKey||e.ctrlKey;t?L&&(o=null,l=!0):(o=this.getOptionValue(i),l=!0)}else o=t?null:this.getOptionValue(i),l=!0;l&&this.updateModel(o,e)}onOptionSelectRange(e,i=-1,t=-1){if(i===-1&&(i=this.findNearestSelectedOptionIndex(t,!0)),t===-1&&(t=this.findNearestSelectedOptionIndex(i)),i!==-1&&t!==-1){let l=Math.min(i,t),o=Math.max(i,t),g=this.visibleOptions().slice(l,o+1).filter(L=>this.isValidOption(L)).map(L=>this.getOptionValue(L));this.updateModel(g,e)}}onToggleAll(e){if(!(this.disabled||this.readonly)){if(S.focus(this.headerCheckboxViewChild.nativeElement),this.selectAll!==null)this.onSelectAllChange.emit({originalEvent:e,checked:!this.allSelected()});else{let i=this.allSelected()?[]:this.visibleOptions().filter(t=>this.isValidOption(t)).map(t=>this.getOptionValue(t));this.updateModel(i,e),this.onChange.emit({originalEvent:e,value:this.value})}e.preventDefault()}}allSelected(){return this.selectAll!==null?this.selectAll:h.isNotEmpty(this.visibleOptions())&&this.visibleOptions().every(e=>this.isOptionGroup(e)||this.isOptionDisabled(e)||this.isSelected(e))}onOptionTouchEnd(){this.disabled||(this.optionTouched=!0)}onOptionMouseDown(e,i){this.changeFocusedOptionIndex(e,i)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}onOptionDoubleClick(e,i){this.disabled||this.isOptionDisabled(i)||this.readonly||this.onDblClick.emit({originalEvent:e,option:i,value:this.value})}onFirstHiddenFocus(e){S.focus(this.listViewChild.nativeElement);let i=S.getFirstFocusableElement(this.el.nativeElement,':not([data-p-hidden-focusable="true"])');this.lastHiddenFocusableElement.nativeElement.tabIndex=h.isEmpty(i)?"-1":void 0,this.firstHiddenFocusableElement.nativeElement.tabIndex=-1}onLastHiddenFocus(e){if(e.relatedTarget===this.listViewChild.nativeElement){let t=S.getFirstFocusableElement(this.el.nativeElement,":not(.p-hidden-focusable)");S.focus(t),this.firstHiddenFocusableElement.nativeElement.tabIndex=void 0}else S.focus(this.firstHiddenFocusableElement.nativeElement);this.lastHiddenFocusableElement.nativeElement.tabIndex=-1}onFocusout(e){!this.el.nativeElement.contains(e.relatedTarget)&&this.lastHiddenFocusableElement&&this.firstHiddenFocusableElement&&(this.firstHiddenFocusableElement.nativeElement.tabIndex=this.lastHiddenFocusableElement.nativeElement.tabIndex=void 0)}onListFocus(e){this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.onFocus.emit(e)}onListBlur(e){this.focused=!1,this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.searchValue=""}onHeaderCheckboxFocus(e){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}onHeaderCheckboxKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"Space":this.onToggleAll(e);break;case"Enter":this.onToggleAll(e);break;case"Tab":this.onHeaderCheckboxTabKeyDown(e);break;default:break}}onHeaderCheckboxTabKeyDown(e){S.focus(this.listViewChild.nativeElement),e.preventDefault()}onFilterChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0)}onFilterBlur(e){this.focusedOptionIndex.set(-1),this.startRangeIndex.set(-1)}onListKeyDown(e){let i=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"Space":this.onSpaceKey(e);break;case"Tab":break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:if(this.multiple&&e.code==="KeyA"&&i){let t=this.visibleOptions().filter(l=>this.isValidOption(l)).map(l=>this.getOptionValue(l));this.updateModel(t,e),e.preventDefault();break}!i&&h.isPrintableCharacter(e.key)&&(this.searchOptions(e,e.key),e.preventDefault());break}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"ShiftLeft":case"ShiftRight":this.onShiftKey();break;default:break}}onArrowDownKey(e){let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,this.startRangeIndex(),i),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowUpKey(e){let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.multiple&&e.shiftKey&&this.onOptionSelectRange(e,i,this.startRangeIndex()),this.changeFocusedOptionIndex(e,i),e.preventDefault()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onHomeKey(e,i=!1){if(i)e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1);else{let t=e.metaKey||e.ctrlKey,l=this.findFirstOptionIndex();this.multiple&&e.shiftKey&&t&&this.onOptionSelectRange(e,l,this.startRangeIndex()),this.changeFocusedOptionIndex(e,l)}e.preventDefault()}onEndKey(e,i=!1){if(i){let t=e.currentTarget,l=t.value.length;t.setSelectionRange(l,l),this.focusedOptionIndex.set(-1)}else{let t=e.metaKey||e.ctrlKey,l=this.findLastOptionIndex();this.multiple&&e.shiftKey&&t&&this.onOptionSelectRange(e,this.startRangeIndex(),l),this.changeFocusedOptionIndex(e,l)}e.preventDefault()}onPageDownKey(e){this.scrollInView(0),e.preventDefault()}onPageUpKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onEnterKey(e){this.focusedOptionIndex()!==-1&&(this.multiple&&e.shiftKey?this.onOptionSelectRange(e,this.focusedOptionIndex()):this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()])),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onShiftKey(){let e=this.focusedOptionIndex();this.startRangeIndex.set(e)}getOptionGroupChildren(e){return this.optionGroupChildren?h.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?h.resolveFieldData(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionLabel(e){return this.optionLabel?h.resolveFieldData(e,this.optionLabel):e.label!=null?e.label:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionValue(e){return this.optionValue?h.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}hasSelectedOption(){return h.isNotEmpty(this.modelValue())}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&!this.multiple&&this.onOptionSelect(e,this.visibleOptions()[i]))}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let t=-1,l=!1;return this.focusedOptionIndex()!==-1?(t=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),t=t===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):t+this.focusedOptionIndex()):t=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),t!==-1&&(l=!0),t===-1&&this.focusedOptionIndex()===-1&&(t=this.findFirstFocusedOptionIndex()),t!==-1&&this.changeFocusedOptionIndex(e,t),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),l}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId,t=S.findSingle(this.listViewChild.nativeElement,`li[id="${i}"]`);t?t.scrollIntoView&&t.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||this.virtualScroll&&this.scroller.scrollToIndex(e!==-1?e:this.focusedOptionIndex())}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return h.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findFirstSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findLastSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findLastSelectedOptionIndex(){return this.hasSelectedOption()?h.findLastIndex(this.visibleOptions(),e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(t=>this.isValidOption(t)):-1;return i>-1?i+e+1:e}findNextSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(t=>this.isValidSelectedOption(t)):-1;return i>-1?i+e+1:-1}findPrevSelectedOptionIndex(e){let i=this.hasSelectedOption()&&e>0?h.findLastIndex(this.visibleOptions().slice(0,e),t=>this.isValidSelectedOption(t)):-1;return i>-1?i:-1}findFirstSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findPrevOptionIndex(e){let i=e>0?h.findLastIndex(this.visibleOptions().slice(0,e),t=>this.isValidOption(t)):-1;return i>-1?i:e}findNearestSelectedOptionIndex(e,i=!1){let t=-1;return this.hasSelectedOption()&&(i?(t=this.findPrevSelectedOptionIndex(e),t=t===-1?this.findNextSelectedOptionIndex(e):t):(t=this.findNextSelectedOptionIndex(e),t=t===-1?this.findPrevSelectedOptionIndex(e):t)),t>-1?t:e}equalityKey(){return this.optionValue?null:this.dataKey}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isOptionDisabled(e){return this.optionDisabled?h.resolveFieldData(e,this.optionDisabled):!1}isSelected(e){let i=this.getOptionValue(e);return this.multiple?(this.modelValue()||[]).some(t=>h.equals(t,i,this.equalityKey())):h.equals(this.modelValue(),i,this.equalityKey())}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isEmpty(){return!this._options()||this._options()&&this._options().length===0}hasFilter(){return this._filterValue()&&this._filterValue().trim().length>0}resetFilter(){this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this._filterValue.set(null)}ngOnDestroy(){this.translationSubscription&&this.translationSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(V(ie),V(oe),V(xe),V(be),V(ne))};static \u0275cmp=ee({type:n,selectors:[["p-listbox"]],contentQueries:function(i,t,l){if(i&1&&(A(l,ye,5),A(l,Oe,5),A(l,R,4)),i&2){let o;v(o=C())&&(t.headerFacet=o.first),v(o=C())&&(t.footerFacet=o.first),v(o=C())&&(t.templates=o)}},viewQuery:function(i,t){if(i&1&&(w(Fe,5),w(Le,5),w(we,5),w(ke,5),w(Ve,5),w(Ee,5)),i&2){let l;v(l=C())&&(t.headerCheckboxViewChild=l.first),v(l=C())&&(t.filterViewChild=l.first),v(l=C())&&(t.lastHiddenFocusableElement=l.first),v(l=C())&&(t.firstHiddenFocusableElement=l.first),v(l=C())&&(t.scroller=l.first),v(l=C())&&(t.listViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:"autoOptionFocus",selectOnFocus:"selectOnFocus",searchLocale:"searchLocale",focusOnHover:"focusOnHover",filterMessage:"filterMessage",filterFields:"filterFields",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",scrollHeight:"scrollHeight",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",listStyle:"listStyle",listStyleClass:"listStyleClass",readonly:"readonly",disabled:"disabled",checkbox:"checkbox",filter:"filter",filterBy:"filterBy",filterMatchMode:"filterMatchMode",filterLocale:"filterLocale",metaKeySelection:"metaKeySelection",dataKey:"dataKey",showToggleAll:"showToggleAll",optionLabel:"optionLabel",optionValue:"optionValue",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",optionDisabled:"optionDisabled",ariaFilterLabel:"ariaFilterLabel",filterPlaceHolder:"filterPlaceHolder",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",group:"group",options:"options",filterValue:"filterValue",selectAll:"selectAll"},outputs:{onChange:"onChange",onClick:"onClick",onDblClick:"onDblClick",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onSelectAllChange:"onSelectAllChange"},features:[re([Kt])],ngContentSelectors:Dt,decls:16,vars:24,consts:[[3,"ngClass","ngStyle","focusout"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"tabindex","focus"],["firstHiddenFocusableElement",""],["class","p-listbox-header",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["buildInItems",""],["class","p-listbox-footer",4,"ngIf"],["role","status","aria-live","polite","class","p-hidden-accessible",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],["lastHiddenFocusableElement",""],[1,"p-listbox-header"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-checkbox p-component",3,"ngClass","click","keydown",4,"ngIf"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],[1,"p-checkbox","p-component",3,"ngClass","click","keydown"],[1,"p-hidden-accessible"],["type","checkbox","readonly","readonly",3,"disabled","focus","blur"],["headerchkbox",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],["class","p-listbox-filter-container",4,"ngIf"],["role","status","attr.aria-live","polite",1,"p-hidden-accessible"],[1,"p-listbox-filter-container"],["type","text","role","searchbox",1,"p-listbox-filter","p-inputtext","p-component",3,"value","disabled","tabindex","input","keydown","blur"],["filterInput",""],["class","p-listbox-filter-icon",4,"ngIf"],[1,"p-listbox-filter-icon"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","content"],["pTemplate","loader"],["role","listbox",1,"p-listbox-list",3,"tabindex","ngClass","focus","blur","keydown"],["list",""],["ngFor","",3,"ngForOf"],["class","p-listbox-empty-message","role","option",4,"ngIf"],["role","option",1,"p-listbox-item-group",3,"ngStyle"],["pRipple","","role","option",1,"p-listbox-item",3,"ngStyle","ngClass","ariaPosInset","click","dblclick","mousedown","mouseenter","touchend"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","option",1,"p-listbox-empty-message"],["emptyFilter",""],["empty",""],[1,"p-listbox-footer"]],template:function(i,t){i&1&&(ae(Mt),d(0,"div",0),O("focusout",function(o){return t.onFocusout(o)}),d(1,"span",1,2),O("focus",function(o){return t.onFirstHiddenFocus(o)}),u(),p(3,De,3,5,"div",3)(4,Xe,5,3,"div",3),d(5,"div",4),p(6,it,4,11,"p-scroller",5)(7,ot,2,6,"ng-container",6)(8,wt,5,12,"ng-template",null,7,q),u(),p(10,Vt,3,5,"div",8)(11,Et,2,1,"span",9),d(12,"span",10),F(13),u(),d(14,"span",1,11),O("focus",function(o){return t.onLastHiddenFocus(o)}),u()()),i&2&&(P(t.styleClass),a("ngClass",t.containerClass)("ngStyle",t.style),_("id",t.id),c(),a("tabindex",t.disabled?-1:t.tabindex),_("aria-hidden",!0)("data-p-hidden-focusable",!0),c(2),a("ngIf",t.headerFacet||t.headerTemplate),c(),a("ngIf",t.checkbox&&t.multiple&&t.showToggleAll||t.filter),c(),P(t.listStyleClass),se("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),a("ngClass","p-listbox-list-wrapper")("ngStyle",t.listStyle),c(),a("ngIf",t.virtualScroll),c(),a("ngIf",!t.virtualScroll),c(3),a("ngIf",t.footerFacet||t.footerTemplate),c(),a("ngIf",t.isEmpty()),c(2),M(" ",t.selectedMessageText," "),c(),a("tabindex",t.disabled?-1:t.tabindex),_("aria-hidden",!0)("data-p-hidden-focusable",!0))},dependencies:()=>[pe,de,ue,he,_e,R,ve,Ie,j,W],styles:[`@layer primeng{.p-listbox-list-wrapper{overflow:auto}.p-listbox-list{list-style-type:none;margin:0;padding:0}.p-listbox-item{cursor:pointer;position:relative;overflow:hidden;display:flex;align-items:center;-webkit-user-select:none;user-select:none}.p-listbox-header{display:flex;align-items:center}.p-listbox-filter-container{position:relative;flex:1 1 auto}.p-listbox-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-listbox-filter{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),ai=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[me,B,Ce,U,j,W,B,U]})}return n})();export{At as a,ai as b};
