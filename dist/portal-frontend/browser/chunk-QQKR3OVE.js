import{a as It,b as Ft}from"./chunk-6T5XIYJ5.js";import{a as Nt,b as Rt}from"./chunk-X2N4LBF3.js";import{a as Ve,b as Ae,c as mt,d as ut}from"./chunk-YJO24YHC.js";import{a as ft,b as gt}from"./chunk-B2W5NOZS.js";import"./chunk-EY22THHI.js";import{a as D,m as pe,n as wt,o as Dt}from"./chunk-WY5L5QV5.js";import"./chunk-WYL7NH4F.js";import{b as ke,c as Le,d as Pe,e as je,i as Vt,j as ze,k as $e,n as At}from"./chunk-U446ZUSE.js";import"./chunk-7XV6CRBL.js";import{a as Tt,b as Mt}from"./chunk-LFBU7IBC.js";import"./chunk-6OSMVD66.js";import"./chunk-IAKHD2KQ.js";import"./chunk-KTZAFNHT.js";import"./chunk-L2YMTAJ4.js";import{e as q,f as H}from"./chunk-SQDM7FYD.js";import"./chunk-MUUDK5FO.js";import"./chunk-GS33KFGJ.js";import{h as Ie,i as Fe,k as Ne,l as Re,m as _t,n as vt,o as bt,p as ht,q as Oe,s as Ct,t as yt,u as xt,v as Et,w as St,x as Be}from"./chunk-OHCSBWXS.js";import"./chunk-APKN3PFA.js";import"./chunk-X6GEXHSG.js";import{a as Te,b as Me}from"./chunk-MX4UQD2B.js";import"./chunk-X5B2VV3T.js";import"./chunk-ZTWDMVRM.js";import{a as ye}from"./chunk-P7FDEGEE.js";import"./chunk-XSSXK7EZ.js";import{a as ct}from"./chunk-PXO2TRVQ.js";import"./chunk-PWTX4GCB.js";import{a as st,b as G,c as O,d as dt,e as j,f as ie,h as Ee,i as ne,j as oe,k as ae,l as pt,m as Se,n as we,o as z,p as re,q as le}from"./chunk-HXGQMCX4.js";import{a as xe}from"./chunk-RQIDKQUN.js";import"./chunk-WTM76CTQ.js";import{c as de,d as $,e as A}from"./chunk-AXYD25ST.js";import{e as De,i as se,n as V}from"./chunk-VBSZGXZN.js";import{$ as T,Bc as I,Db as U,Dc as rt,Eb as J,Fb as K,Gb as R,Hb as d,Ib as S,Jb as x,Kb as it,Lb as k,Lc as lt,Nc as Ce,Ob as M,Pb as w,Qb as me,R as Je,Rb as nt,S as Z,Sb as be,T as Ke,Ta as s,Ua as _e,Ub as he,Wa as ve,Y as y,Yb as L,Za as N,_b as P,a as ge,aa as We,ab as et,b as Ue,da as F,db as g,ea as b,eb as X,fa as h,fb as p,ib as tt,jb as Ye,kb as C,mb as ee,nb as te,ob as o,pa as Ze,pb as a,qb as v,ub as E,wb as u,wc as Y,xb as m,yc as ot,zc as at}from"./chunk-HOTPW52P.js";function Xt(i,l){if(i&1&&v(0,"app-error-input",6),i&2){let t=m();p("message",t.getErrorMessage("subject",t.form))}}function Ut(i,l){if(i&1&&v(0,"app-error-input",6),i&2){let t=m();p("message",t.getErrorMessage("place",t.form))}}function Jt(i,l){if(i&1&&v(0,"app-error-input",6),i&2){let t=m();p("message",t.getErrorMessage("type",t.form))}}function Kt(i,l){if(i&1&&v(0,"app-error-input",6),i&2){let t=m(2);p("message",t.getErrorMessage("finalized",t.form))}}function Wt(i,l){if(i&1&&(o(0,"label",11),d(1,"\xBFConvocatoria finalizada?"),a(),v(2,"p-selectButton",18),g(3,Kt,1,1,"app-error-input",6)),i&2){let t=m(),e;s(2),p("options",t.stateOptions)("allowEmpty",!1),s(),C(3,(e=t.form.get("finalized"))!=null&&e.invalid&&((e=t.form.get("finalized"))!=null&&e.dirty)?3:-1)}}function Zt(i,l){if(i&1&&v(0,"app-error-input",6),i&2){let t=m(2);p("message",t.getErrorMessage("attendanceDeadline",t.form))}}function ei(i,l){if(i&1&&(o(0,"span",3),v(1,"p-calendar",19),o(2,"label",20),d(3,"Fecha & hora de fin de asistencia"),a()(),g(4,Zt,1,1,"app-error-input",6)),i&2){let t=m(),e;s(),p("showTime",!0)("stepSecond",0)("showButtonBar",!0),s(3),C(4,(e=t.form.get("attendanceDeadline"))!=null&&e.invalid&&((e=t.form.get("attendanceDeadline"))!=null&&e.dirty)?4:-1)}}function ti(i,l){if(i&1&&v(0,"app-error-input",6),i&2){let t=m();p("message",t.getErrorMessage("date",t.form))}}function ii(i,l){}function ni(i,l){if(i&1&&v(0,"app-error-input",6),i&2){let t=m(2);p("message",t.getErrorMessage("description",t.form))}}function oi(i,l){if(i&1&&(o(0,"div",21)(1,"label",11),d(2,"Descripci\xF3n"),a(),o(3,"p-editor",22),g(4,ii,0,0,"ng-template",23),a(),g(5,ni,1,1,"app-error-input",6),a()),i&2){let t=m(),e;s(3),p("modules",t.quillModules),s(2),C(5,(e=t.form.get("description"))!=null&&e.invalid&&((e=t.form.get("description"))!=null&&e.dirty)?5:-1)}}function ai(i,l){if(i&1){let t=E();o(0,"p-button",24),u("onClick",function(){b(t);let n=m();return h(n.handleAccept())}),a(),o(1,"p-button",25),u("onClick",function(){b(t);let n=m();return n.modalData.response=null,h(n.handleClose.emit())}),a()}i&2&&(p("raised",!0)("rounded",!0),s(),p("raised",!0)("rounded",!0))}var ri=()=>({width:"100%"}),Bt=(()=>{let l=class l{constructor(){this.modalData={visible:!1,title:"",data:null,response:null},this.handleClose=new N,this.fb=y(Se),this.storageService=y(ye),this.getErrorMessage=Me,this.form=this.fb.group({id:[""],subject:["",O.required],description:["",O.required],date:["",O.required],place:["",O.required],type:["",O.required],attendanceDeadline:[""],createdBy:["",O.required],updatedBy:[""],finalized:[!1]}),this.typeOptions=[{label:"Reuni\xF3n ordinaria de directivos",value:D.MEETING_ORDINARY},{label:"Reuni\xF3n extraordinaria de directivos",value:D.MEETING_EXTRAORDINARY},{label:"Asamblea extraordinaria",value:D.ASSEMBLY_EXTRAORDINARY},{label:"Asamblea ordinaria",value:D.ASSEMBLY_ORDINARY},{label:"Sesi\xF3n de directivos",value:D.SESSION}],this.stateOptions=[{label:"No",value:!1},{label:"Si",value:!0}],this.quillModules={toolbar:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{align:[]}]]}}handleAccept(){let e=this.storageService.getAuth();e&&(this.form.patchValue({createdBy:e.id.toString()}),this.form.patchValue({updatedBy:e.id.toString()})),this.form.valid?(this.modalData.response=this.form.value,this.handleClose.emit()):Object.values(this.form.controls).forEach(n=>{n.invalid&&(n.markAsDirty(),n.updateValueAndValidity({onlySelf:!0}))})}getTemplate(){let e=this.form.get("type")?.value;return e===D.ASSEMBLY_EXTRAORDINARY||e===D.ASSEMBLY_ORDINARY?(this.form.get("attendanceDeadline")?.setValidators([O.required,this.validateDates]),this.form.get("attendanceDeadline")?.updateValueAndValidity({onlySelf:!0}),'<p><strong>ORDEN DEL DIA:</strong></p><p><br></p><ol><li>Saludo y Bienvenida a los asistentes por parte de </li><li>Lectura y Aprobaci\xF3n del <strong>ORDEN DEL DIA.</strong></li></ol><p><br></p><p><br></p><p><strong>NOTA</strong>: Se solicita encarecidamente <strong>Puntualidad</strong>. La Inasistencia dar\xE1 lugar a una multa de $20 (veinte d\xF3lares americanos).</p><p><br></p><p><br></p><p><br></p><p class="ql-align-center"><strong>LA DIRECTIVA</strong></p>'):e===D.MEETING_ORDINARY||e===D.MEETING_EXTRAORDINARY?(this.form.get("attendanceDeadline")?.clearValidators(),this.form.get("attendanceDeadline")?.updateValueAndValidity({onlySelf:!0}),'<p><strong>ORDEN DEL DIA:</strong></p><p><br></p><ol><li>Saludo y Bienvenida a los asistentes por parte de </li><li>Lectura y Aprobaci\xF3n del <strong>ORDEN DEL DIA.</strong></li></ol><p><br></p><p><br></p><p><strong>NOTA</strong>: Se solicita encarecidamente <strong>Puntualidad</strong>. La Inasistencia dar\xE1 lugar a una multa de $20 (veinte d\xF3lares americanos).</p><p><br></p><p><br></p><p><br></p><p class="ql-align-center"><strong>LA DIRECTIVA</strong></p>'):e===D.SESSION?(this.form.get("attendanceDeadline")?.clearValidators(),this.form.get("attendanceDeadline")?.updateValueAndValidity({onlySelf:!0}),'<p><strong>ORDEN DEL DIA:</strong></p><p><br></p><ol><li>Saludo y Bienvenida a los asistentes por parte de </li><li>Lectura y Aprobaci\xF3n del <strong>ORDEN DEL DIA.</strong></li></ol><p><br></p><p><br></p><p><strong>NOTA</strong>: Se solicita encarecidamente <strong>Puntualidad</strong>. La Inasistencia dar\xE1 lugar a una multa de $20 (veinte d\xF3lares americanos).</p><p><br></p><p><br></p><p><br></p><p class="ql-align-center"><strong>LA DIRECTIVA</strong></p>'):""}ngOnChanges(e){e.modalData&&(this.form.reset(),this.modalData.data&&(this.form.patchValue(Ue(ge({},this.modalData.data),{date:new Date(this.modalData.data.date),attendanceDeadline:this.modalData.data.attendanceDeadline?new Date(this.modalData.data.attendanceDeadline):null})),this.form.get("finalized")?.setValidators(O.required),this.form.get("updatedBy")?.setValidators(O.required)))}ngOnInit(){this.form.setValidators(this.validateDates)}validateDates(e){let n=e.get("date")?.value,r=e.get("attendanceDeadline")?.value;return n&&r&&r<=n?(e.get("attendanceDeadline")?.setErrors({lowerDate:!0}),{lowerDate:!0}):null}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-convocation-form"]],inputs:{modalData:"modalData"},outputs:{handleClose:"handleClose"},standalone:!0,features:[F,M],decls:31,vars:19,consts:[["id","dialog","styleClass","w-10 md:w-8 lg:w-8",3,"header","visible","modal","draggable","resizable","visibleChange","onHide"],[1,"pt-4","grid","row-gap-3","h-full",3,"formGroup"],[1,"col-12","lg:col-6"],[1,"p-float-label"],["pInputText","","id","subject","formControlName","subject","autocomplete","off",1,"w-full"],["for","subject"],[3,"message"],[1,"col-12","lg:col-3"],["pInputText","","id","place","formControlName","place","autocomplete","off",1,"w-full"],["for","place"],[1,"col-12","lg:col-3","relative"],["for","severity",1,"text-xs","text-gray-500","block","ml-3","absolute","left-0",2,"top","-1rem"],["formControlName","type","placeholder","Seleccione un tipo","appendTo","body",3,"options","onChange"],[1,"col-12","lg:col-6","relative"],["formControlName","date","id","date","dateFormat","dd/mm/yy","appendTo","body","styleClass","w-full",3,"showTime","showButtonBar"],["for","date"],["class","col-12 h-full relative"],["pTemplate","footer"],["formControlName","finalized","optionValue","value",3,"options","allowEmpty"],["formControlName","attendanceDeadline","id","attendanceDeadline","dateFormat","dd/mm/yy","appendTo","body","styleClass","w-full",3,"showTime","stepSecond","showButtonBar"],["for","attendanceDeadline"],[1,"col-12","h-full","relative"],["formControlName","description",3,"modules"],["pTemplate","header"],["label","Aceptar","severity","success",3,"raised","rounded","onClick"],["label","Cancelar","severity","danger",3,"raised","rounded","onClick"]],template:function(n,r){if(n&1&&(o(0,"p-dialog",0),u("visibleChange",function(f){return r.modalData.visible=f})("onHide",function(){return r.modalData.response=null,r.handleClose.emit()}),o(1,"form",1)(2,"div",2)(3,"span",3),v(4,"input",4),o(5,"label",5),d(6,"Asunto"),a()(),g(7,Xt,1,1,"app-error-input",6),a(),o(8,"div",7)(9,"span",3),v(10,"input",8),o(11,"label",9),d(12,"Lugar"),a()(),g(13,Ut,1,1,"app-error-input",6),a(),o(14,"div",10)(15,"label",11),d(16,"Tipo de convocatoria"),a(),o(17,"p-dropdown",12),u("onChange",function(){return r.form.patchValue({description:r.getTemplate()})}),a(),g(18,Jt,1,1,"app-error-input",6),a(),o(19,"div",13),g(20,Wt,4,3),a(),o(21,"div",7),g(22,ei,5,4),a(),o(23,"div",7)(24,"span",3),v(25,"p-calendar",14),o(26,"label",15),d(27,"Fecha & hora de inicio"),a()(),g(28,ti,1,1,"app-error-input",6),a(),g(29,oi,6,2,"div",16),a(),g(30,ai,2,4,"ng-template",17),a()),n&2){let c,f,_,B,ue,fe,Xe;p("header",r.modalData.title)("visible",r.modalData.visible)("modal",!0)("draggable",!1)("resizable",!1),s(),p("formGroup",r.form),s(6),C(7,(c=r.form.get("subject"))!=null&&c.invalid&&((c=r.form.get("subject"))!=null&&c.dirty)?7:-1),s(6),C(13,(f=r.form.get("place"))!=null&&f.invalid&&((f=r.form.get("place"))!=null&&f.dirty)?13:-1),s(4),tt(w(18,ri)),p("options",r.typeOptions),s(),C(18,(_=r.form.get("type"))!=null&&_.invalid&&((_=r.form.get("type"))!=null&&_.dirty)?18:-1),s(2),C(20,(B=r.form.get("id"))!=null&&B.value?20:-1),s(2),C(22,((ue=r.form.get("type"))==null?null:ue.value)==="ASSEMBLY_ORDINARY"||((ue=r.form.get("type"))==null?null:ue.value)==="ASSEMBLY_EXTRAORDINARY"?22:-1),s(3),p("showTime",!0)("showButtonBar",!0),s(3),C(28,(fe=r.form.get("date"))!=null&&fe.invalid&&((fe=r.form.get("date"))!=null&&fe.dirty)?28:-1),s(),C(29,(Xe=r.form.get("type"))!=null&&Xe.value?29:-1)}},dependencies:[H,q,V,le,re,Re,Ne,$,A,je,Pe,z,ne,G,j,ie,oe,ae,Te,Fe,Ie,ht,bt]});let i=l;return i})();var Qe=(()=>{let l=class l{constructor(){this.END_POINT=xe.API_URL+"/protected/convocation",this.http=y(Ce)}getConvocations(e,n,r,c,f){let _=new lt;return e&&(_=_.append("subject",e)),n&&(_=_.append("start",n.getTime().toString())),r&&(_=_.append("end",r.getTime().toString())),c&&(_=_.append("type",c)),f&&(_=_.append("page",f.toString())),this.http.get(this.END_POINT,{params:_})}createConvocation(e){return this.http.post(this.END_POINT,e)}updateConvocation(e,n){return this.http.put(`${this.END_POINT}/${e}`,n)}deleteConvocation(e){return this.http.delete(`${this.END_POINT}/${e}`)}finalizeConvocation(e){return this.http.put(`${this.END_POINT}/${e}/finalize`,{})}findAllParticipants(e){return this.http.get(`${this.END_POINT}/${e}/participants`)}updateAttendance(e,n){return this.http.put(`${this.END_POINT}/${e}/attendance`,n)}};l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=Z({token:l,factory:l.\u0275fac,providedIn:"root"});let i=l;return i})();var li=["input"],si=(i,l,t)=>({"p-radiobutton-label":!0,"p-radiobutton-label-active":i,"p-disabled":l,"p-radiobutton-label-focus":t});function di(i,l){if(i&1){let t=E();o(0,"label",7),u("click",function(n){b(t);let r=m();return h(r.select(n))}),d(1),a()}if(i&2){let t=m(),e=R(3);Ye(t.labelStyleClass),p("ngClass",be(6,si,e.checked,t.disabled,t.focused)),X("for",t.inputId)("data-pc-section","label"),s(),S(t.label)}}var pi=(i,l,t)=>({"p-radiobutton p-component":!0,"p-radiobutton-checked":i,"p-radiobutton-disabled":l,"p-radiobutton-focused":t}),ci=(i,l,t)=>({"p-radiobutton-box":!0,"p-highlight":i,"p-disabled":l,"p-focus":t}),mi={provide:st,useExisting:Je(()=>Ge),multi:!0},ui=(()=>{class i{accessors=[];add(t,e){this.accessors.push([t,e])}remove(t){this.accessors=this.accessors.filter(e=>e[1]!==t)}select(t){this.accessors.forEach(e=>{this.isSameGroup(e,t)&&e[1]!==t&&e[1].writeValue(t.value)})}isSameGroup(t,e){return t[0].control?t[0].control.root===e.control.control.root&&t[1].name===e.name:!1}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ge=(()=>{class i{cd;injector;registry;value;formControlName;name;disabled;label;tabindex;inputId;ariaLabelledBy;ariaLabel;style;styleClass;labelStyleClass;onClick=new N;onFocus=new N;onBlur=new N;inputViewChild;onModelChange=()=>{};onModelTouched=()=>{};checked;focused;control;constructor(t,e,n){this.cd=t,this.injector=e,this.registry=n}ngOnInit(){this.control=this.injector.get(dt),this.checkName(),this.registry.add(this.control,this)}handleClick(t,e,n){t.preventDefault(),!this.disabled&&(this.select(t),n&&e.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit({originalEvent:t,value:this.value}))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error(`
          If you define both a name and a formControlName attribute on your radio button, their values
          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>
        `)}static \u0275fac=function(e){return new(e||i)(_e(ve),_e(Ze),_e(ui))};static \u0275cmp=T({type:i,selectors:[["p-radioButton"]],viewQuery:function(e,n){if(e&1&&U(li,5),e&2){let r;J(r=K())&&(n.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[k([mi])],decls:7,vars:29,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","value","focus","blur"],["input",""],[3,"ngClass"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(e,n){if(e&1){let r=E();o(0,"div",0),u("click",function(f){b(r);let _=R(3);return h(n.handleClick(f,_,!0))}),o(1,"div",1)(2,"input",2,3),u("focus",function(f){return n.onInputFocus(f)})("blur",function(f){return n.onInputBlur(f)}),a()(),o(4,"div",4),v(5,"span",5),a()(),g(6,di,2,10,"label",6)}e&2&&(Ye(n.styleClass),p("ngStyle",n.style)("ngClass",be(21,pi,n.checked,n.disabled,n.focused)),X("data-pc-name","radiobutton")("data-pc-section","root"),s(),X("data-pc-section","hiddenInputWrapper"),s(),p("checked",n.checked)("disabled",n.disabled)("value",n.value),X("id",n.inputId)("name",n.name)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("tabindex",n.tabindex)("aria-checked",n.checked)("data-pc-section","hiddenInput"),s(2),p("ngClass",be(25,ci,n.checked,n.disabled,n.focused)),X("data-pc-section","input"),s(),X("data-pc-section","icon"),s(),p("ngIf",n.label))},dependencies:[Y,ot,at],encapsulation:2,changeDetection:0})}return i})(),kt=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=We({type:i});static \u0275inj=Ke({imports:[rt]})}return i})();var vi=()=>({size:"A4",margin:"0"}),bi=()=>({"-webkit-print-color-adjust":"exact"}),hi=()=>({padding:"0 !important",border:"none !important"}),Ci=()=>({"border-top":"1px solid #e5e7eb !important","border-top-left-radius":"6px !important","border-top-right-radius":"6px !important"}),yi=()=>({"border-top-left-radius":"6px !important","border-top-right-radius":"6px !important"}),xi=(i,l,t,e,n)=>({"@page":i,body:l,".p-editor-toolbar.ng-star-inserted.ql-toolbar.ql-snow":t,".p-editor-container .p-editor-content":e,".p-editor-container .p-editor-content .ql-editor":n});function Ei(i,l){if(i&1&&v(0,"button",4),i&2){let t=m(2);p("printSectionId","print-section-missing")("useExistingCss",!0)("previewOnly",!1)("openNewTab",!1)("printTitle",t.data.convocation.subject)("printStyle",he(12,xi,w(7,vi),w(8,bi),w(9,hi),w(10,Ci),w(11,yi)))("bodyClass","p-2 bg-teal-50")}}function Si(i,l){if(i&1&&g(0,Ei,1,18,"button",3),i&2){let t=m();C(0,t.data.convocation?0:-1)}}var wi=(i,l)=>l.id;function Di(i,l){if(i&1&&(o(0,"div",22),d(1),a()),i&2){let t=l.$implicit;s(),x(" ",t.residence.number," ")}}function Ti(i,l){if(i&1&&(o(0,"div",2,5)(2,"div",6)(3,"div",7),v(4,"img",8),o(5,"h1",9),d(6,"PORTAL DE LA VI\xD1A"),a()(),o(7,"h2",10),d(8),a(),o(9,"h3",11),d(10,"ASAMBLEA: REPORTE DE INASISTENCIA"),a(),o(11,"div",12)(12,"span",13),d(13,"Fecha & Hora de la asamblea: "),o(14,"span",14),d(15),L(16,"date"),a()(),o(17,"span",13),d(18,"Lugar: "),o(19,"span",14),d(20),a()()(),o(21,"div")(22,"p",15),d(23," Listado de los n\xFAmeros de casas de los "),o(24,"span",16),d(25,"INASISTENTES"),a(),d(26," en la asamblea: "),a(),o(27,"div",17)(28,"div",18),ee(29,Di,2,1,"div",23,wi),a()()(),o(31,"div",19)(32,"p")(33,"span",20),d(34,"NOTA:"),a(),d(35," Se les recuerda a los residentes que las inansistencias injustificadas ser\xE1n multadas con $20 (veinte d\xF3lares americanos). "),a(),o(36,"p",21),d(37,"LA DIRECTIVA"),a()()()()),i&2){let t=m();s(8),x(" ",t.data.convocation.subject," "),s(7),S(P(16,3,t.data.convocation.date,"dd 'de' MMMM 'del' yyyy 'a las' HH:mm ")),s(5),S(t.data.convocation.place),s(9),te(t.data.missingList)}}var Lt=(()=>{let l=class l{constructor(){this.data={}}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-convocation-attendance-missing-list-view"]],inputs:{data:"data"},standalone:!0,features:[k([I]),M],decls:3,vars:2,consts:[["position","right","styleClass","w-11 lg:w-8 bg-teal-50 ",3,"visible","visibleChange"],["pTemplate","header"],["id","print-section-missing"],["pButton","","label","Descargar","icon","pi pi-file-pdf","title","Descargar PDF","class","p-button p-button-raised p-button-rounded p-button-secondary p-button-sm","ngxPrint","",3,"printSectionId","useExistingCss","previewOnly","openNewTab","printTitle","printStyle","bodyClass"],["pButton","","label","Descargar","icon","pi pi-file-pdf","title","Descargar PDF","ngxPrint","",1,"p-button","p-button-raised","p-button-rounded","p-button-secondary","p-button-sm",3,"printSectionId","useExistingCss","previewOnly","openNewTab","printTitle","printStyle","bodyClass"],["content",""],[1,"flex","flex-column","gap-2","p-2"],[1,"flex","justify-content-center","relative"],["src","assets/images/logo-removebg.png","alt","logo",1,"w-8rem","mt-2","ml-2","absolute","top-0","left-0"],[1,"text-5xl","font-bold","mb-4"],[1,"text-center","font-bold","px-6","py-2","bg-teal-700","text-white","w-fit","m-auto","uppercase"],[1,"text-center","mt-2","mb-4"],[1,"flex","justify-content-between","mb-2"],[1,"font-bold"],[1,"font-normal"],[1,"my-2"],[1,"font-bold","uppercase","text-red-700"],[1,"flex","justify-content-center"],[1,"flex","flex-wrap",2,"width","98%"],[1,"mt-4"],[1,"font-bold","uppercase"],[1,"text-center","font-bold","mt-6"],[1,"p-1","py-2","w-3rem","text-center","text-xs","font-bold","border-1"],["class","p-1 py-2 w-3rem text-center text-xs font-bold border-1"]],template:function(n,r){n&1&&(o(0,"p-sidebar",0),u("visibleChange",function(f){return r.data.visible=f}),g(1,Si,1,1,"ng-template",1)(2,Ti,38,6,"div",2),a()),n&2&&(p("visible",r.data.visible),s(2),C(2,r.data.convocation?2:-1))},dependencies:[Ae,Ve,V,I,A,de,$e,ze,Vt]});let i=l;return i})();var Vi=["dt1"];function Ai(i,l){if(i&1){let t=E();o(0,"div",8)(1,"button",9),u("click",function(){b(t);let n=m();return h(n.showMissingList())}),a(),o(2,"button",10),u("click",function(){b(t);let n=R(9);return m(),R(3).clear(),h(n.value="")}),a(),o(3,"div",11)(4,"label",12),d(5,"Filtro: "),a(),o(6,"span",13),v(7,"i",14),o(8,"input",15,16),u("input",function(){b(t);let n=R(9);m();let r=R(3);return h(r.filterGlobal(n.value,"contains"))}),a()()()()}}function Ii(i,l){i&1&&(o(0,"tr")(1,"th"),d(2,"Casa"),a(),o(3,"th"),d(4,"Nombre Completo (Propietario/Residente)"),a(),o(5,"th"),d(6,"D.N.I. (Propietario/Residente)"),a(),o(7,"th"),d(8,"Fecha & hora de asistencia"),a(),o(9,"th"),d(10,"Nombre Completo (Asistencia)"),a(),o(11,"th"),d(12,"Asistencia"),a(),o(13,"th"),d(14,"Acci\xF3n"),a()())}function Fi(i,l){if(i&1&&d(0),i&2){let t=m().$implicit;x(" ",t.residence.user.names+" "+t.residence.user.surnames," ")}}function Ni(i,l){i&1&&(o(0,"span",23),d(1,"Sin residente registrado"),a())}function Ri(i,l){if(i&1&&d(0),i&2){let t=m().$implicit;x(" ",t.residence.user.dni," ")}}function Oi(i,l){if(i&1){let t=E();o(0,"input",24),u("ngModelChange",function(n){b(t);let r=m().$implicit;return h(r.participant=n)}),a()}if(i&2){let t=m().$implicit;p("ngModel",t.participant)}}function Bi(i,l){if(i&1&&d(0),i&2){let t=m().$implicit;x(" ",t.participant," ")}}function ki(i,l){if(i&1){let t=E();o(0,"div",8)(1,"div",25)(2,"p-radioButton",26),u("ngModelChange",function(n){b(t);let r=m().$implicit;return h(r.attendance=n)}),a(),o(3,"label",27),d(4,"Presente"),a()(),o(5,"div",25)(6,"p-radioButton",26),u("ngModelChange",function(n){b(t);let r=m().$implicit;return h(r.attendance=n)}),a(),o(7,"label",27),d(8,"Falta"),a()()()}if(i&2){let t=m().$implicit;s(2),p("value",!0)("id","present"+t.id)("ngModel",t.attendance),s(),p("htmlFor","present"+t.id),s(3),p("value",!1)("id","missing"+t.id)("ngModel",t.attendance),s(),p("htmlFor","missing"+t.id)}}var Li=(i,l)=>({"text-blue-500":i,"text-red-500":l});function Pi(i,l){if(i&1&&(o(0,"span",28),d(1),a()),i&2){let t=m().$implicit;p("ngClass",nt(2,Li,t.attendance,!t.attendance)),s(),x(" ",t.attendance?"Presente":"Falta"," ")}}function ji(i,l){if(i&1){let t=E();o(0,"button",29),u("click",function(){b(t);let n=m().$implicit,r=m();return h(r.onRowEditInit(n))}),a()}if(i&2){let t=m(2);p("disabled",t.hasRowEdit)}}function zi(i,l){if(i&1){let t=E();o(0,"button",30),u("click",function(){b(t);let n=m().$implicit,r=m();return h(r.onRowEditSave(n))}),a(),o(1,"button",31),u("click",function(){b(t);let n=m(),r=n.$implicit,c=n.rowIndex,f=m();return h(f.onRowEditCancel(r,c))}),a()}}var $i=i=>({"bg-bluegray-100":i});function qi(i,l){if(i&1&&(o(0,"tr",17)(1,"td",18),d(2),a(),o(3,"td"),g(4,Fi,1,1)(5,Ni,2,0),a(),o(6,"td"),g(7,Ri,1,1),a(),o(8,"td"),d(9),L(10,"date"),a(),o(11,"td")(12,"p-cellEditor"),g(13,Oi,1,1,"ng-template",19)(14,Bi,1,1,"ng-template",20),a()(),o(15,"td")(16,"p-cellEditor"),g(17,ki,9,8,"ng-template",19)(18,Pi,2,5,"ng-template",20),a()(),o(19,"td")(20,"div",21),g(21,ji,1,1,"button",22)(22,zi,2,0),a()()()),i&2){let t=l.$implicit,e=l.editing;p("pEditableRow",t)("ngClass",me(11,$i,t.residence.user==null)),s(2),x(" ",t.residence.number," "),s(2),C(4,t.residence.user?4:5),s(3),C(7,t.residence.user?7:-1),s(2),x(" ",P(10,8,t.attendanceDate,"EEEE, dd/MM/yyyy 'a las' hh:mm a")," "),s(12),C(21,e?-1:21),s(),C(22,e?22:-1)}}var Hi=()=>({"min-width":"50rem"}),Qi=()=>["residence.number","residence.user.surnames","residence.user.dni"],Pt=(()=>{let l=class l{constructor(){this.data={},this.loading=!0,this.convocationService=y(Qe),this.messageService=y(se),this.participantList=[],this.clonedParticipantList=[],this.hasRowEdit=!1,this.missingListData={}}ngOnChanges(e){e.data&&this.getAttendanceList()}getAttendanceList(){this.loading=!0,this.data.convocation&&this.data.visible&&this.convocationService.findAllParticipants(this.data.convocation.id).subscribe({next:e=>{this.participantList=e.data,setTimeout(()=>{this.loading=!1},300)},error:e=>{console.error(e)}})}onRowEditInit(e){this.clonedParticipantList[e.id]=ge({},e),this.hasRowEdit=!0}onRowEditSave(e){this.hasRowEdit=!1,delete this.clonedParticipantList[e.id];let n={attendance:e.attendance,participant:e.participant,residence:e.residence.id};this.convocationService.updateAttendance(e.id,n).subscribe({next:r=>{this.messageService.add({severity:"success",summary:"Success",detail:r.message}),this.getAttendanceList()},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:r.error.message}),this.getAttendanceList()}})}onRowEditCancel(e,n){this.hasRowEdit=!1,this.participantList[n]=this.clonedParticipantList[e.id],delete this.clonedParticipantList[e.id]}onPage(){let e=this.table.first,n=this.table.first+this.table.rows;this.hasRowEdit=!1,this.clonedParticipantList=[];for(let r=e;r<n;r++){let c=this.table.value[r];if(c&&this.table.isRowEditing(c)){this.table.cancelRowEdit(c);break}}}clearRowsEdit(){this.hasRowEdit=!1,this.clonedParticipantList=[];for(let e of this.participantList)if(this.table.isRowEditing(e)){this.table.cancelRowEdit(e);break}}showMissingList(){this.missingListData={convocation:this.data.convocation,missingList:this.participantList.filter(e=>!e.attendance),visible:!0}}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-convocation-attendance-management"]],viewQuery:function(n,r){if(n&1&&U(Vi,5),n&2){let c;J(c=K())&&(r.table=c.first)}},inputs:{data:"data"},standalone:!0,features:[k([I]),F,M],decls:8,vars:19,consts:[["styleClass","w-11 h-full","header","Listado de asistentes",3,"modal","draggable","resizable","visible","closeOnEscape","visibleChange","onHide"],["dialog",""],["paginatorDropdownAppendTo","body","dataKey","id","editMode","row","styleClass","shadow-4 border-round p-datatable-sm",3,"value","loading","paginator","pageLinks","rows","tableStyle","scrollable","scrollHeight","showJumpToPageDropdown","currentPageReportTemplate","globalFilterFields","onPage","onFilter"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[3,"data"],[1,"flex","flex-column","lg:flex-row","gap-2"],["title","verInasistencias","pButton","","label","Ver listado de inasistencia","icon","pi pi-users",1,"p-button-sm","p-button-ripple","p-button-rounded","p-button-danger",3,"click"],["title","limpiarFiltro","pButton","","label","Limpiar b\xFAsqueda","icon","pi pi-filter-slash",1,"p-button-sm","p-button-ripple","p-button-rounded","p-button-help",3,"click"],[1,"ml-auto"],["for","globalFilter ",1,"mr-2"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","id","globalFilter","placeholder","N\xB0 de casa, Apellidos o D.N.I.",3,"input"],["inputSearch",""],[3,"pEditableRow","ngClass"],[1,"font-bold","text-teal-700"],["pTemplate","input"],["pTemplate","output"],[1,"flex","gap-1"],["title","editar","pButton","","pRipple","","label","Editar","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-sm p-button-secondary",3,"disabled"],[1,"text-red-800"],["pInputText","","type","text",1,"p-inputtext-sm",3,"ngModel","ngModelChange"],[1,"inline-flex"],["name","attendance",3,"value","id","ngModel","ngModelChange"],[1,"ml-1",3,"htmlFor"],[1,"font-bold","uppercase",3,"ngClass"],["title","editar","pButton","","pRipple","","label","Editar","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-sm","p-button-secondary",3,"disabled","click"],["title","aceptar","pButton","","pRipple","","type","button","pSaveEditableRow","","label","Guardar","icon","pi pi-check",1,"p-button-rounded","p-button-sm","p-button-success",3,"click"],["title","cancelar","pButton","","pRipple","","type","button","label","Cancelar","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-sm","p-button-danger",3,"click"]],template:function(n,r){if(n&1){let c=E();o(0,"p-dialog",0,1),u("visibleChange",function(_){return r.data.visible=_})("onHide",function(){b(c);let _=R(3);return h(_.clear())}),o(2,"p-table",2,3),u("onPage",function(){return r.onPage()})("onFilter",function(){return r.clearRowsEdit()}),g(4,Ai,10,0,"ng-template",4)(5,Ii,15,0,"ng-template",5)(6,qi,23,13,"ng-template",6),a()(),v(7,"app-convocation-attendance-missing-list-view",7)}n&2&&(p("modal",!0)("draggable",!1)("resizable",!1)("visible",r.data.visible)("closeOnEscape",!1),s(2),p("value",r.participantList)("loading",r.loading)("paginator",!0)("pageLinks",3)("rows",20)("tableStyle",w(17,Hi))("scrollable",!0)("scrollHeight","calc(100vh - 20.5rem)")("showJumpToPageDropdown",!0)("currentPageReportTemplate","{currentPage} de {totalPages} p\xE1ginas ({totalRecords} registros)")("globalFilterFields",w(18,Qi)),s(5),p("data",r.missingListData))},dependencies:[H,q,V,Be,Oe,St,Ct,yt,xt,Et,A,de,Y,we,G,j,Ee,kt,Ge,le,re,I,Lt]});let i=l;return i})();function Yi(i,l){if(i&1&&v(0,"app-error-input",5),i&2){let t=m();p("message",t.getErrorMessage("question",t.form))}}function Gi(i,l){if(i&1){let t=E();o(0,"p-button",7),u("onClick",function(){b(t);let n=m();return h(n.handleAccept())}),a(),o(1,"p-button",8),u("onClick",function(){b(t);let n=m();return n.sidebarData.response=null,h(n.handleClose.emit())}),a()}i&2&&(p("raised",!0)("rounded",!0),s(),p("raised",!0)("rounded",!0))}var jt=(()=>{let l=class l{constructor(){this.sidebarData={},this.handleClose=new N,this.fb=y(Se),this.getErrorMessage=Me,this.form=this.fb.group({id:[],question:["",O.required]})}ngOnChanges(e){e.sidebarData&&(this.form.reset(),this.form.patchValue(this.sidebarData.data))}handleAccept(){this.form.valid?(this.sidebarData.response=this.form.value,this.handleClose.emit()):Object.values(this.form.controls).forEach(e=>{e.invalid&&(e.markAsDirty(),e.updateValueAndValidity({onlySelf:!0}))})}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-assembly-votes-form"]],inputs:{sidebarData:"sidebarData"},outputs:{handleClose:"handleClose"},standalone:!0,features:[F,M],decls:9,vars:7,consts:[["styleClass","w-full md:w-6 lg: w-4",3,"visible","modal","draggable","resizable","header","visibleChange","onHide"],[1,"mt-4",3,"formGroup"],[1,"p-float-label","w-full"],["pInputTextarea","","formControlName","question","id","question","rows","5",1,"w-full"],["for","question"],[3,"message"],["pTemplate","footer"],["label","Aceptar","severity","success",3,"raised","rounded","onClick"],["label","Cancelar","severity","danger",3,"raised","rounded","onClick"]],template:function(n,r){if(n&1&&(o(0,"p-dialog",0),u("visibleChange",function(f){return r.sidebarData.visible=f})("onHide",function(){return r.sidebarData.response=null,r.handleClose.emit()}),o(1,"form",1)(2,"span",2)(3,"textarea",3),d(4,"      "),a(),o(5,"label",4),d(6,"Pregunta"),a()(),g(7,Yi,1,1,"app-error-input",5),a(),g(8,Gi,2,4,"ng-template",6),a()),n&2){let c;p("visible",r.sidebarData.visible)("modal",!0)("draggable",!1)("resizable",!1)("header",r.sidebarData.title),s(),p("formGroup",r.form),s(6),C(7,(c=r.form.get("question"))!=null&&c.dirty&&((c=r.form.get("question"))!=null&&c.invalid)?7:-1)}},dependencies:[H,q,V,A,$,Mt,Tt,z,ne,G,j,ie,oe,ae,Te]});let i=l;return i})();var zt=(()=>{let l=class l{constructor(){this.END_POINT=xe.API_URL+"/protected/assembly-votes",this.http=y(Ce)}createAssemblyQuestion(e){return this.http.post(this.END_POINT,e)}findAllAssemblyQuestions(e){return this.http.get(`${this.END_POINT}/convocation/${e}`)}deleteAssemblyQuestion(e){return this.http.delete(`${this.END_POINT}/${e}`)}updateAssemblyQuestion(e,n){return this.http.put(`${this.END_POINT}/${e}`,n)}toggleEnableVote(e){return this.http.put(`${this.END_POINT}/toggle-enabled-vote/${e}`,{})}};l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=Z({token:l,factory:l.\u0275fac,providedIn:"root"});let i=l;return i})();function Xi(i,l){if(i&1&&(o(0,"h2"),d(1," Pregunta: "),o(2,"span",3),d(3),a()()),i&2){let t=m();s(3),S(t.data.data.question)}}function Ui(i,l){i&1&&(o(0,"tr")(1,"th"),d(2,"C\xE9dula"),a(),o(3,"th"),d(4,"Nombres"),a(),o(5,"th"),d(6,"Apellidos"),a(),o(7,"th"),d(8,"Voto"),a()())}function Ji(i,l){i&1&&(o(0,"span",8),d(1,"A FAVOR"),a())}function Ki(i,l){i&1&&(o(0,"span",9),d(1,"EN CONTRA"),a())}function Wi(i,l){if(i&1&&(o(0,"tr")(1,"td"),d(2),a(),o(3,"td"),d(4),a(),o(5,"td"),d(6),a(),o(7,"td"),g(8,Ji,2,0,"span",7)(9,Ki,2,0),a()()),i&2){let t=l.$implicit;s(2),S(t.voteBy.dni),s(2),S(t.voteBy.names),s(2),S(t.voteBy.surnames),s(2),C(8,t.vote?8:9)}}var Zi=()=>({"min-width":"30rem"});function en(i,l){if(i&1&&(o(0,"p",4),d(1,"Listado de votantes:"),a(),o(2,"p-table",5),g(3,Ui,9,0,"ng-template",1)(4,Wi,10,4,"ng-template",6),a()),i&2){let t=m();s(2),p("value",t.data.data.votes)("tableStyle",w(4,Zi))("scrollable",!0)("scrollHeight","calc(100vh - 9rem)")}}var $t=(()=>{let l=class l{constructor(){this.data={visible:!1,title:"",data:null},this.onClosedHandler=new N}ngOnChanges(e){e.detailData&&this.data.visible}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-assembly-votes-detail"]],inputs:{data:"data"},outputs:{onClosedHandler:"onClosedHandler"},standalone:!0,features:[F,M],decls:3,vars:1,consts:[["position","right","styleClass","w-11 lg:w-4 bg-teal-50 ",3,"visible","visibleChange"],["pTemplate","header"],["pTemplate","content"],[1,"text-teal-700"],[1,"mb-4"],["styleClass","p-table-sm p-datatable-striped","styleClass","p-datatable-sm p-datatable-striped",3,"value","tableStyle","scrollable","scrollHeight"],["pTemplate","body"],["class","uppercase font-bold text-blue-600"],[1,"uppercase","font-bold","text-blue-600"],[1,"uppercase","font-bold","text-red-600"]],template:function(n,r){n&1&&(o(0,"p-sidebar",0),u("visibleChange",function(f){return r.data.visible=f}),g(1,Xi,4,1,"ng-template",1)(2,en,5,5,"ng-template",2),a()),n&2&&p("visible",r.data.visible)},dependencies:[Ae,Ve,V,A,z,Be,Oe]});let i=l;return i})();function nn(i,l){if(i&1){let t=E();o(0,"div",6)(1,"p-button",7),u("onClick",function(){b(t);let n=m();return h(n.onOpenQuestionForm())}),a(),o(2,"p-button",8),u("onClick",function(){b(t);let n=m();return h(n.getQuestions())}),a()()}if(i&2){let t=m();s(),p("rounded",!0)("raised",!0)("disabled",t.assemblyVotationData.convocation.finalized),s(),p("rounded",!0)("raised",!0)}}var on=(i,l)=>l.id,an=i=>({"border-top-1 border-gray-300":i}),rn=i=>({"votation-in-process":i});function ln(i,l){if(i&1){let t=E();o(0,"div",10)(1,"div",11)(2,"div",12)(3,"p",13),d(4,"Pregunta:"),a(),o(5,"p",14),d(6),a()(),o(7,"div",15)(8,"div",16)(9,"div",17)(10,"p",18)(11,"span",19),d(12,"Votos Totales: "),a(),d(13),a()(),o(14,"div",20)(15,"p",21),d(16,"Votos a favor"),a(),o(17,"p",18),d(18),a()(),o(19,"div",22)(20,"p",21),d(21,"Votos en contra"),a(),o(22,"p",18),d(23),a()()(),o(24,"div",23)(25,"div",24)(26,"p-button",25),u("onClick",function(){let r=b(t).$implicit,c=m(2);return h(c.onEnableQuestion(r))}),a(),o(27,"p-button",26),u("onClick",function(){let r=b(t).$implicit,c=m(2);return h(c.showVoteDetail(r))}),a()(),o(28,"div",24)(29,"p-button",27),u("onClick",function(){let r=b(t).$implicit,c=m(2);return h(c.onOpenQuestionForm(r))}),a(),o(30,"p-button",28),u("onClick",function(){let r=b(t).$implicit,c=m(2);return h(c.onDeleteQuestion(r))}),a()()()()()()}if(i&2){let t=l.$implicit,e=l.$index,n=m(2);p("ngClass",me(19,an,e!==0)),s(6),S(t.question),s(),p("ngClass",me(21,rn,t.enabled)),s(6),x("",t.totalVotes," "),s(5),S(t.upVotes),s(5),S(t.downVotes),s(3),p("label",t.enabled?"Desactivar votaciones":"Activar votaciones")("rounded",!0)("raised",!0)("disabled",n.assemblyVotationData.convocation.finalized)("severity",t.enabled?"secondary":"success"),s(),p("rounded",!0)("raised",!0),s(2),p("rounded",!0)("raised",!0)("disabled",n.assemblyVotationData.convocation.finalized),s(),p("rounded",!0)("raised",!0)("disabled",n.assemblyVotationData.convocation.finalized)}}function sn(i,l){if(i&1&&(o(0,"div",9),ee(1,ln,31,23,"div",29,on),a()),i&2){let t=m();s(),te(t.questions)}}var qt=(()=>{let l=class l{constructor(){this.assemblyVotationData={},this.onClosed=new N,this.storageService=y(ye),this.voteService=y(zt),this.messageService=y(se),this.confirmationService=y(De),this.questions=[],this.detailData={visible:!1,title:"",data:null},this.sidebarData={visible:!1,title:"",data:null}}ngOnChanges(e){e.assemblyVotationData&&this.assemblyVotationData.visible&&this.getQuestions()}getQuestions(){this.voteService.findAllAssemblyQuestions(this.assemblyVotationData.convocation.id).subscribe({next:e=>{this.questions=e.data},error:e=>{this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo obtener las preguntas"})}})}reset(){this.sidebarData={visible:!1,title:"",data:null,response:null}}onOpenQuestionForm(e){this.sidebarData={visible:!0,title:e?"Editar pregunta":"Nueva pregunta",data:e}}onDeleteQuestion(e){this.confirmationService.confirm({message:`\xBFEst\xE1s seguro de que quieres eliminar la pregunta? <p class="font-bold text-green-600">${e.question}</p>
      <br>
      <p class="font-bold text-red-600 mt-4">Esta acci\xF3n no se puede deshacer.</p>
`,header:"Confirmar eliminaci\xF3n de la pregunta",icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",acceptIcon:"pi pi-trash mr-2",acceptLabel:"S\xED",rejectLabel:"No",accept:()=>{this.voteService.deleteAssemblyQuestion(e.id).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:n.message}),this.getQuestions()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo eliminar la pregunta"})}})}})}onCloseQuestionForm(){if(this.sidebarData.response){let e=this.storageService.getAuth();if(e){let n=this.sidebarData.response.id,r={question:this.sidebarData.response.question,convocation:this.assemblyVotationData.convocation.id,createdBy:e.id};n?this.voteService.updateAssemblyQuestion(n,r).subscribe({next:c=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:c.message}),this.reset(),this.getQuestions()},error:c=>{c.error?this.messageService.add({severity:"error",summary:"Error",detail:c.error.message}):this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo actualizar la pregunta"}),this.reset()}}):this.voteService.createAssemblyQuestion(r).subscribe({next:c=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:c.message}),this.reset(),this.getQuestions()},error:c=>{c.error?this.messageService.add({severity:"error",summary:"Error",detail:c.error.message}):this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo crear la pregunta"}),this.reset()}})}else this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo obtener el token de autenticaci\xF3n"}),this.reset()}else this.reset()}onEnableQuestion(e){this.voteService.toggleEnableVote(e.id).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:n.message}),this.getQuestions()},error:n=>{n.error?this.messageService.add({severity:"error",summary:"Error",detail:n.error.message}):this.messageService.add({severity:"error",summary:"Error",detail:"No se pudo activar/desactivar la pregunta"})}})}showVoteDetail(e){this.detailData={visible:!0,title:e.question,data:e}}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-assembly-manage-votes"]],inputs:{assemblyVotationData:"assemblyVotationData"},outputs:{onClosed:"onClosed"},standalone:!0,features:[F,M],decls:6,vars:9,consts:[["styleClass","w-11 h-full","header","Administraci\xF3n de votos",3,"modal","draggable","resizable","visible","closeOnEscape","visibleChange","onHide"],["layout","list","styleClass","w-full",3,"value","emptyMessage"],["pTemplate","header"],["pTemplate","list"],[3,"sidebarData","handleClose"],[3,"data"],[1,"flex","justify-content-between"],["label","Nuevo voto","icon","pi pi-plus","severity","info",3,"rounded","raised","disabled","onClick"],["label","Actualizar","icon","pi pi-refresh",3,"rounded","raised","onClick"],[1,"col-12"],[1,"flex","flex-column","sm:flex-row","sm:align-items-center","py-4","px-2","gap-3",3,"ngClass"],[1,"flex","justify-content-between","w-full","gap-2"],[1,"p-2","w-5","bg-gray-100","border-round"],[1,"font-bold","uppercase","text-indigo-600","mb-2"],[1,""],[1,"w-7","flex","gap-4","relative",3,"ngClass"],[1,"grid","m-0","shadow-1","border-1","bg-bluegray-800","border-round","text-lg","z-1","w-full"],[1,"col-12","border-bottom-1","flex","align-items-center","justify-content-center","text-yellow-300","border-white","font-bold"],[1,"text-center"],[1,"text-center","uppercase","mr-2"],[1,"col-6","border-right-1","border-white","flex","flex-column","justify-content-center","align-items-center","text-green-300","font-bold"],[1,"text-center","uppercase"],[1,"col-6","flex","flex-column","justify-content-center","align-items-center","text-red-300","font-bold"],[1,"grid","z-1","w-full"],[1,"col-6","flex","flex-column","justify-content-center","gap-2"],["styleClass","w-full","size","small",3,"label","rounded","raised","disabled","severity","onClick"],["label","Ver detalles","styleClass","w-full","size","small","severity","help",3,"rounded","raised","onClick"],["label","Editar","styleClass","w-full ","size","small","severity","warning",3,"rounded","raised","disabled","onClick"],["label","Eliminar","styleClass","w-full","size","small","severity","danger",3,"rounded","raised","disabled","onClick"],["class","flex flex-column sm:flex-row sm:align-items-center py-4 px-2 gap-3",3,"ngClass"]],template:function(n,r){n&1&&(o(0,"p-dialog",0),u("visibleChange",function(f){return r.assemblyVotationData.visible=f})("onHide",function(){return r.onClosed.emit()}),o(1,"p-dataView",1),g(2,nn,3,5,"ng-template",2)(3,sn,3,0,"ng-template",3),a()(),o(4,"app-assembly-votes-form",4),u("handleClose",function(){return r.onCloseQuestionForm()}),a(),v(5,"app-assembly-votes-detail",5)),n&2&&(p("modal",!0)("draggable",!1)("resizable",!1)("visible",r.assemblyVotationData.visible)("closeOnEscape",!1),s(),p("value",r.questions)("emptyMessage","No hay resultados para mostrar"),s(3),p("sidebarData",r.sidebarData),s(),p("data",r.detailData))},dependencies:[H,q,V,Le,ke,A,$,z,jt,$t,Y],styles:['@charset "UTF-8";.votation-in-process[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;width:100%;height:100%;margin:auto;background-color:#0e8d41;opacity:.5;filter:blur(5px);transform:scale(1.02);animation:_ngcontent-%COMP%_pulsate 1s linear infinite}@keyframes _ngcontent-%COMP%_pulsate{0%{opacity:.8}50%{opacity:1}to{opacity:.8}}']});let i=l;return i})();function dn(i,l){if(i&1&&(o(0,"p",15),d(1,' La Directiva del Conjunto Residencial "Portal de la Vi\xF1a" '),o(2,"strong"),d(3,"CONVOCA"),a(),d(4," a tod@s los Cond\xF3min@s con car\xE1cter obligatorio a la "),o(5,"span",16),d(6),a(),d(7),L(8,"date"),a()),i&2){let t=m();s(6),S(t.getConvocationTypeSpanishTranslation(t.convocation.type)),s(),it(" que se llevar\xE1 a cabo el d\xEDa ",P(8,3,t.convocation.date,"dd 'de' MMMM 'del' yyyy 'a las' HH:mm ")," en la ",t.convocation.place,". ")}}function pn(i,l){if(i&1&&(o(0,"div",17)(1,"span",18),d(2,"Fecha & Hora: "),o(3,"span",19),d(4),L(5,"date"),a()(),o(6,"span",18),d(7,"Lugar: "),o(8,"span",19),d(9),a()()()),i&2){let t=m();s(4),S(P(5,2,t.convocation.date,"dd 'de' MMMM 'del' yyyy 'a las' HH:mm ")),s(5),S(t.convocation.place)}}function cn(i,l){}var mn=()=>({size:"A4",margin:"0"}),un=()=>({"-webkit-print-color-adjust":"exact"}),fn=()=>({padding:"0 !important",border:"none !important"}),gn=()=>({"border-top":"1px solid #e5e7eb !important","border-top-left-radius":"6px !important","border-top-right-radius":"6px !important"}),_n=()=>({"border-top-left-radius":"6px !important","border-top-right-radius":"6px !important"}),vn=(i,l,t,e,n)=>({"@page":i,body:l,".p-editor-toolbar.ng-star-inserted.ql-toolbar.ql-snow":t,".p-editor-container .p-editor-content":e,".p-editor-container .p-editor-content .ql-editor":n});function bn(i,l){if(i&1){let t=E();o(0,"div",20),v(1,"button",21),o(2,"p-button",22),u("click",function(){b(t);let n=m();return h(n.visible=!1)}),a()()}if(i&2){let t=m();s(),p("printSectionId","print-section")("useExistingCss",!0)("previewOnly",!1)("openNewTab",!1)("printTitle",t.convocation.subject)("printStyle",he(14,vn,w(9,mn),w(10,un),w(11,fn),w(12,gn),w(13,_n)))("bodyClass","p-2 bg-teal-50"),s(),p("rounded",!0)("raised",!0)}}var Ht=(()=>{let l=class l{constructor(){this.convocation={},this.visible=!1,this.getConvocationTypeSpanishTranslation=pe,this.text=""}ngOnChanges(e){e.convocation&&this.convocation&&(this.text=this.convocation.description)}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-convocation-view"]],inputs:{convocation:"convocation",visible:"visible"},standalone:!0,features:[k([I]),F,M],decls:22,vars:10,consts:[["styleClass","w-11 lg:w-8 h-full","contentStyleClass","flex flex-column gap-4",3,"modal","draggable","resizable","visible","visibleChange"],["id","print-section"],["content",""],[1,"flex","justify-content-center","relative"],["src","assets/images/logo-removebg.png","alt","logo",1,"w-8rem","mt-2","ml-2","absolute","top-0","left-0"],[1,"text-5xl","font-bold","mb-4"],[1,"text-center","font-bold","px-6","py-2","bg-teal-700","text-white","w-fit","m-auto","uppercase"],[1,"text-center","mt-2"],[1,"text-center","mt-2","text-teal-700"],[1,"text-right","mt-2","mb-4","text-red-600"],[1,"text-gray-700"],["class","my-4 px-2"],["styleClass","h-fit",3,"ngModel","readonly","ngModelChange"],["pTemplate","header"],["pTemplate","footer"],[1,"my-4","px-2"],[1,"capitalize","font-bold"],[1,"flex","justify-content-between","mb-2"],[1,"font-bold"],[1,"font-normal"],[1,"flex","gap-2","justify-content-end","align-items-center"],["pButton","","label","Descargar","icon","pi pi-file-pdf","title","Descargar PDF","ngxPrint","",1,"p-button","p-button-raised","p-button-rounded","p-button-secondary",3,"printSectionId","useExistingCss","previewOnly","openNewTab","printTitle","printStyle","bodyClass"],["label","Cerrar","icon","pi pi-times","severity","danger",3,"rounded","raised","click"]],template:function(n,r){n&1&&(o(0,"p-dialog",0),u("visibleChange",function(f){return r.visible=f}),o(1,"div",1,2)(3,"div",3),v(4,"img",4),o(5,"h1",5),d(6,"PORTAL DE LA VI\xD1A"),a()(),o(7,"h2",6),d(8),a(),o(9,"h3",7),d(10,"CONVOCATORIA"),a(),o(11,"h4",8),d(12),a(),o(13,"h4",9)(14,"span",10),d(15,"COD:"),a(),d(16),a(),g(17,dn,9,6,"p",11)(18,pn,10,5),o(19,"p-editor",12),u("ngModelChange",function(f){return r.text=f}),g(20,cn,0,0,"ng-template",13),a()(),g(21,bn,3,20,"ng-template",14),a()),n&2&&(p("modal",!0)("draggable",!1)("resizable",!1)("visible",r.visible),s(8),x(" ",r.convocation.subject," "),s(4),x(" ",r.getConvocationTypeSpanishTranslation(r.convocation.type)," "),s(4),x(" ",r.convocation.code," "),s(),C(17,r.convocation.type==="ASSEMBLY_ORDINARY"||r.convocation.type==="ASSEMBLY_EXTRAORDINARY"?17:18),s(2),p("ngModel",r.text)("readonly",!0))},dependencies:[H,q,V,je,Pe,A,de,$,I,$e,ze,we,j,Ee]});let i=l;return i})();var hn=["container"],Cn=["cov"];function yn(i,l){i&1&&v(0,"p-calendar",28)}var xn=(i,l)=>l.id;function En(i,l){if(i&1&&(o(0,"div",50)(1,"p",51),d(2," ASISTIERON: "),o(3,"span"),d(4),a()()(),o(5,"div",52)(6,"p",51),d(7," NO ASISTIERON: "),o(8,"span"),d(9),a()()()),i&2){let t=m().$implicit;s(4),S(t.totalPresent),s(5),S(t.totalMissing)}}function Sn(i,l){if(i&1){let t=E();o(0,"div",30)(1,"div",31)(2,"h2",32),d(3),a(),o(4,"div",33)(5,"h3",34)(6,"span",35),d(7,"C\xF3digo: "),a(),d(8),a(),o(9,"div",36)(10,"div",37)(11,"span",38),d(12,"Tipo:"),a(),v(13,"p-tag",39),a(),o(14,"div",37)(15,"span",38),d(16,"Finalizado:"),a(),v(17,"p-tag",40),a()(),o(18,"div",36)(19,"div",37)(20,"p")(21,"span",41),d(22," Fecha: "),a(),d(23),L(24,"date"),a(),o(25,"p")(26,"span",41),d(27," Lugar: "),a(),d(28),a(),o(29,"p",42)(30,"span",41),d(31," Creado Por: "),a(),d(32),a(),o(33,"p",43)(34,"span",41),d(35," \xDAltima actualizaci\xF3n: "),a(),d(36),a()(),o(37,"div",37)(38,"p")(39,"span",41),d(40," Hora de inicio: "),a(),d(41),L(42,"date"),a()()()(),o(43,"div",44)(44,"div",45)(45,"div",46)(46,"p-button",47),u("onClick",function(n){let c=b(t).$implicit,f=m(2),_=R(19);return h(f.toggleMenu(c,n,_))}),a(),o(47,"p-button",48),u("onClick",function(){let r=b(t).$implicit,c=m(2);return h(c.openForm(r))}),a(),o(48,"p-button",49),u("onClick",function(){let r=b(t).$implicit,c=m(2);return h(c.onDelete(r))}),a()()(),g(49,En,10,2),a()()()}if(i&2){let t=l.$implicit,e=m(2);s(),p("ngClass",e.getConvocationClassText(t.type)),s(),p("ngClass",e.getConvocationClass(t.type)),s(),x(" ",t.subject," "),s(5),x("",t.code," "),s(5),p("value",e.getConvocationTypeSpanishTranslation(t.type))("styleClass",e.getConvocationClass(t.type)),s(4),p("value",t.finalized?"SI":"NO")("severity",t.finalized?"success":"info"),s(6),x(" ",P(24,20,t.date,"EEEE, dd/MM/yyyy")," "),s(5),x(" ",t.place," "),s(4),x(" ",t.createdBy.names+" "+t.createdBy.surnames," "),s(4),x(" ",t.updatedBy.names+" "+t.updatedBy.surnames," "),s(5),x(" ",P(42,23,t.date,"HH:mm")," "),s(5),p("rounded",!0)("raised",!0),s(),p("rounded",!0)("raised",!0),s(),p("rounded",!0)("raised",!0),s(),C(49,t.type==="ASSEMBLY_ORDINARY"||t.type==="ASSEMBLY_EXTRAORDINARY"?49:-1)}}function wn(i,l){if(i&1&&(o(0,"div",29),ee(1,Sn,50,26,"div",53,xn),a()),i&2){let t=m();s(),te(t.convocations)}}var tr=(()=>{let l=class l extends ct{constructor(){super(),this.first=0,this.rows=10,this.totalItems=0,this.modalData={visible:!1,title:"",data:null,response:null},this.toolbarHeight=0,this.containerOptions={showNewButton:!0,showSearch:!1,dataLoading:!1},this.attendanceManagementData={convocation:{},visible:!1},this.assemblyVotationData={convocation:{},visible:!1},this.convocations=[],this.convocationMenu=[{label:"Opciones"}],this.messageService=y(se),this.convocationService=y(Qe),this.confirmationService=y(De),this.datePipe=y(I),this.cdr=y(ve),this.fb=y(pt),this.getConvocationTypeSpanishTranslation=pe,this.getConvocationClass=wt,this.getConvocationClassText=Dt,this.filterForm=this.fb.group({subject:[""],start:[],end:[],type:[]}),this.typeOptions=[{label:"Todos",value:null},{label:"Reuni\xF3n ordinaria de directivos",value:D.MEETING_ORDINARY},{label:"Reuni\xF3n extraordinaria de directivos",value:D.MEETING_EXTRAORDINARY},{label:"Asamblea ordinaria",value:D.ASSEMBLY_ORDINARY},{label:"Asamblea extraordinaria",value:D.ASSEMBLY_EXTRAORDINARY},{label:"Sesi\xF3n de directivos",value:D.SESSION}],this.stateOptions=[{label:"No",value:!1},{label:"Si",value:!0}],this.showInterval=!1}ngOnInit(){super.ngOnInit(),this.getConvocations()}ngAfterViewInit(){this.toolbarHeight=this.container.toolbar.getBlockableElement().clientHeight,this.cdr.detectChanges()}getConvocations(e,n,r,c,f){this.containerOptions.dataLoading=!0,this.convocationService.getConvocations(e,n,r,c,f).subscribe({next:_=>{let B=_.data;this.convocations=B.content,_.data,this.totalItems=B.totalItems,setTimeout(()=>{this.containerOptions.dataLoading=!1},300)},error:_=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error al obtener las convocatorias"})}})}openForm(e){this.modalData={visible:!0,title:e?"Editar convocatoria":"Nueva convocatoria",data:e,response:e}}onPageChange(e){this.first=e.first,this.getConvocations(this.filterForm.value.subject||void 0,this.filterForm.value.start||void 0,this.filterForm.value.end||void 0,this.filterForm.value.type||void 0,e.page)}onHandleClose(){if(this.modalData.response){let e=this.modalData.response.id;if(e){let n={subject:this.modalData.response.subject,description:this.modalData.response.description,date:this.modalData.response.date.getTime(),place:this.modalData.response.place,type:this.modalData.response.type,attendanceDeadline:this.modalData.response.attendanceDeadline?this.modalData.response.attendanceDeadline.getTime():void 0,updatedBy:this.modalData.response.updatedBy,finalized:this.modalData.response.finalized};this.convocationService.updateConvocation(e,n).subscribe({next:r=>{this.reset(),this.messageService.add({severity:"success",summary:"\xC9xito",detail:r.message}),this.getConvocations()},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error al actualizar la convocatoria"})}})}else{let n={subject:this.modalData.response.subject,description:this.modalData.response.description,date:this.modalData.response.date.getTime(),place:this.modalData.response.place,type:this.modalData.response.type,attendanceDeadline:this.modalData.response.attendanceDeadline?this.modalData.response.attendanceDeadline.getTime():void 0,createdBy:this.modalData.response.createdBy};this.convocationService.createConvocation(n).subscribe({next:r=>{this.reset(),this.messageService.add({severity:"success",summary:"\xC9xito",detail:r.message}),this.getConvocations()},error:r=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error al crear la convocatoria"})}})}}else this.reset()}onDelete(e){this.confirmationService.confirm({message:`\xBFEst\xE1s seguro de que quieres eliminar la convocatoria <span class="font-bold text-green-600">${e.subject}</span>?
      <br>
      <p class="mt-2"><span class="font-bold">Fecha & hora: </span>${this.datePipe.transform(e.date,"EEEE, dd 'de' MMMM 'del' yyyy 'a las' HH:mm ")} </p>
      <p class="font-bold text-red-600 mt-4">Esta acci\xF3n no se puede deshacer.</p>
`,header:"Confirmar eliminaci\xF3n de la convocatoria",icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",acceptIcon:"pi pi-trash mr-2",acceptLabel:"S\xED",rejectLabel:"No",accept:()=>{this.convocationService.deleteConvocation(e.id).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:n.message}),this.getConvocations()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error al eliminar la convocatoria"})}})}})}toggleMenu(e,n,r){r.toggle(n);let c=[{label:"Ver convocatoria",id:"view",icon:"pi pi-eye",command:()=>{this.onViewConvocation(e)}},{label:"Finalizar convocatoria",id:"finalize",icon:"pi pi-check",command:()=>{this.onFinalizeConvocation(e)}},{label:"Asistencias",id:"attendances",icon:"pi pi-users",disabled:!0,command:()=>{this.onViewAsistences(e)}},{label:"Votaciones",id:"votes",icon:"pi pi-chart-bar",disabled:!0,command:()=>{this.onManageVotes(e)}}];if(e.type===D.ASSEMBLY_ORDINARY||e.type===D.ASSEMBLY_EXTRAORDINARY){let f=c.find(B=>B.id==="attendances");f&&(f.disabled=!1);let _=c.find(B=>B.id==="votes");_&&(_.disabled=!1)}if(e.finalized){let f=c.find(_=>_.id==="finalize");f&&(f.disabled=!0)}this.convocationMenu[0].items=c}onViewConvocation(e){this.convocationView.visible=!0,this.convocationView.convocation=e,this.convocationView.ngOnChanges({convocation:{currentValue:e,previousValue:null,firstChange:!0,isFirstChange:()=>!0}})}onViewAsistences(e){this.attendanceManagementData={convocation:e,visible:!0}}onFinalizeConvocation(e){this.confirmationService.confirm({message:`\xBFEst\xE1s seguro de que quieres finalizar la <span class="font-bold">${pe(e.type)}</span> <span class="font-bold text-green-600">${e.subject}</span>?
      <br>
      <p class="mt-2"><span class="font-bold">Fecha & hora: </span>${this.datePipe.transform(e.date,"EEEE, dd 'de' MMMM 'del' yyyy 'a las' HH:mm ")} </p>
      <p class="font-bold text-red-600 mt-4">Esta acci\xF3n no se puede deshacer.</p>
`,header:"Confirmar finalizaci\xF3n de la "+pe(e.type).toLocaleLowerCase(),icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-success",rejectButtonStyleClass:"p-button-secondary",acceptIcon:"pi pi-check mr-2",acceptLabel:"S\xED",rejectLabel:"No",accept:()=>{this.convocationService.finalizeConvocation(e.id).subscribe({next:n=>{this.messageService.add({severity:"success",summary:"\xC9xito",detail:n.message}),this.getConvocations()},error:n=>{this.messageService.add({severity:"error",summary:"Error",detail:"Error al finalizar la convocatoria"})}})}})}onManageVotes(e){this.assemblyVotationData={convocation:e,visible:!0}}reset(){this.modalData={visible:!1,title:"",data:null,response:null}}onClearFilter(){this.filterForm.reset()}onFilter(){this.filterForm.value,this.getConvocations(this.filterForm.value.subject||void 0,this.filterForm.value.start||void 0,this.filterForm.value.end||void 0,this.filterForm.value.type||void 0,0)}};l.\u0275fac=function(n){return new(n||l)},l.\u0275cmp=T({type:l,selectors:[["app-convocation"]],viewQuery:function(n,r){if(n&1&&(U(hn,5),U(Cn,5)),n&2){let c;J(c=K())&&(r.container=c.first),J(c=K())&&(r.convocationView=c.first)}},standalone:!0,features:[k([I]),et,M],decls:29,vars:24,consts:[[3,"options","onOpenForm"],["container",""],["customSearcher",""],["icon","pi pi-angle-down","label","Abrir filtros","styleClass","bg-white hover:bg-gray-200",3,"rounded","raised","text","click"],["filterButton",""],["styleClass","bg-gray-700 w-11 lg:w-30rem",3,"showCloseIcon","dismissable"],["op",""],[3,"formGroup"],[1,"flex","flex-column","gap-1"],[1,"flex","gap-1","w-full"],["styleClass","p-inputtext-sm w-full","formControlName","start","dateFormat","dd/mm/yy","appendTo","body",1,"w-full",3,"placeholder"],["styleClass","p-inputtext-sm w-full","class","w-full","placeholder","Fecha de fin","formControlName","end","dateFormat","dd/mm/yy","appendTo","body"],["onLabel","Intervalo","offLabel","Fecha","styleClass","p-button-sm w-full",3,"onChange"],["appendTo","body","formControlName","type","placeholder","Seleccine un tipo","styleClass","w-full p-inputtext-sm",1,"w-full",3,"options"],["type","text","pInputText","","placeholder","Asunto","formControlName","subject",1,"w-full","p-inputtext-sm"],[1,"flex","justify-content-between","mt-2"],["icon","pi pi-filter-slash","label","Limpiar","size","small",3,"outlined","onClick"],["icon","pi pi-filter","label","Filtrar","size","small",3,"outlined","onClick"],["appendTo","body",3,"model","popup"],["menu",""],[1,"flex","justify-content-center","mb-2"],[1,"shadow-1","w-full",3,"rows","first","currentPageReportTemplate","showJumpToPageDropdown","totalRecords","onPageChange"],["layout","grid","styleClass","w-full ",3,"value","emptyMessage"],["pTemplate","grid"],[3,"modalData","handleClose"],[3,"data"],[3,"assemblyVotationData","onClosed"],["cov",""],["styleClass","p-inputtext-sm w-full","placeholder","Fecha de fin","formControlName","end","dateFormat","dd/mm/yy","appendTo","body",1,"w-full"],[1,"grid","grid-nogutter","bg-teal-50","h-full"],[1,"col-12","lg:col-6","xl:col-4","p-3"],[1,"shadow-2","surface-border","border-round","w-full","h-full","flex","flex-column","bg-white",3,"ngClass"],[1,"text-center","text-lg","font-bold","text-white","py-3","px-2","border-round-top",3,"ngClass"],[1,"p-3","pb-2","flex","flex-column","gap-2"],[1,"text-red-600","text-right","text-base"],[1,"text-black-alpha-90"],[1,"flex","justify-content-between"],[1,"font-bold"],[1,"text-gray-900","mr-2"],[3,"value","styleClass"],[3,"value","severity"],[1,"text-gray-900"],[1,"text-xs","mt-2"],[1,"text-xs"],[1,"border-round-bottom","grid","m-0","overflow-hidden","text-white","mt-auto"],[1,"col-12"],[1,"flex","justify-content-end","align-items-center","gap-2"],["icon","pi pi-chevron-down","severity","secondary","label","Opciones","size","small",1,"p-button-rounded","p-button-raised",3,"rounded","raised","onClick"],["icon","pi pi-pencil","label","Editar","severity","warning","size","small",1,"p-button-rounded","p-button-raised",3,"rounded","raised","onClick"],["icon","pi pi-trash","severity","danger","label","Eliminar","size","small",1,"p-button-rounded","p-button-raised",3,"rounded","raised","onClick"],[1,"col-6","p-2","bg-indigo-700"],[1,"font-bold","text-center"],[1,"col-6","p-2","bg-red-700"],["class","col-12 lg:col-6 xl:col-4 p-3"]],template:function(n,r){if(n&1){let c=E();o(0,"app-container",0,1),u("onOpenForm",function(){return r.openForm()}),o(2,"div",2)(3,"p-button",3,4),u("click",function(_){b(c);let B=R(6);return h(B.toggle(_))}),a(),o(5,"p-overlayPanel",5,6)(7,"form",7)(8,"div",8)(9,"div",9),v(10,"p-calendar",10),g(11,yn,1,0,"p-calendar",11),o(12,"p-toggleButton",12),u("onChange",function(){let _;return r.showInterval=!r.showInterval,(_=r.filterForm.get("end"))==null?null:_.setValue(null)}),a()(),v(13,"p-dropdown",13)(14,"input",14),o(15,"div",15)(16,"p-button",16),u("onClick",function(){return r.onClearFilter()}),a(),o(17,"p-button",17),u("onClick",function(){return r.onFilter()}),a()()()()()(),v(18,"p-menu",18,19),o(20,"div",20)(21,"p-paginator",21),u("onPageChange",function(_){return r.onPageChange(_)}),a()(),o(22,"p-dataView",22),g(23,wn,3,0,"ng-template",23),a()(),o(24,"app-convocation-form",24),u("handleClose",function(){return r.onHandleClose()}),a(),v(25,"app-convocation-attendance-management",25),o(26,"app-assembly-manage-votes",26),u("onClosed",function(){return r.getConvocations(),r.first=0}),a(),v(27,"app-convocation-view",null,27)}n&2&&(p("options",r.containerOptions),s(3),p("rounded",!0)("raised",!0)("text",!0),s(2),p("showCloseIcon",!0)("dismissable",!1),s(2),p("formGroup",r.filterForm),s(3),p("placeholder",r.showInterval?"Fecha de inicio":"Fecha"),s(),C(11,r.showInterval?11:-1),s(2),p("options",r.typeOptions),s(3),p("outlined",!0),s(),p("outlined",!0),s(),p("model",r.convocationMenu)("popup",!0),s(3),p("rows",r.rows)("first",r.first)("currentPageReportTemplate","{currentPage} de {totalPages} p\xE1ginas ({totalRecords} registros)")("showJumpToPageDropdown",!0)("totalRecords",r.totalItems),s(),p("value",r.convocations)("emptyMessage","No hay resultados para mostrar"),s(2),p("modalData",r.modalData),s(),p("data",r.attendanceManagementData),s(),p("assemblyVotationData",r.assemblyVotationData))},dependencies:[At,Le,ke,V,Bt,Ft,It,I,Y,A,$,ut,mt,Pt,gt,ft,z,ne,G,j,ie,oe,ae,Rt,Nt,Re,Ne,Fe,Ie,le,re,vt,_t,qt,Ht]});let i=l;return i})();export{tr as ConvocationComponent};
